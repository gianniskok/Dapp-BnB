{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar is = require('./is.js');\n\nvar token = require('./token.js');\n\nvar bl = require('./bl.js');\n\nvar common = require('./common.js');\n\nvar jump = require('./jump.js');\n\nvar byteUtils = require('./byte-utils.js');\n\nvar _0uint = require('./0uint.js');\n\nvar _1negint = require('./1negint.js');\n\nvar _2bytes = require('./2bytes.js');\n\nvar _3string = require('./3string.js');\n\nvar _4array = require('./4array.js');\n\nvar _5map = require('./5map.js');\n\nvar _6tag = require('./6tag.js');\n\nvar _7float = require('./7float.js');\n\nconst defaultEncodeOptions = {\n  float64: false,\n  mapSorter,\n  quickEncodeToken: jump.quickEncodeToken\n};\n\nfunction makeCborEncoders() {\n  const encoders = [];\n  encoders[token.Type.uint.major] = _0uint.encodeUint;\n  encoders[token.Type.negint.major] = _1negint.encodeNegint;\n  encoders[token.Type.bytes.major] = _2bytes.encodeBytes;\n  encoders[token.Type.string.major] = _3string.encodeString;\n  encoders[token.Type.array.major] = _4array.encodeArray;\n  encoders[token.Type.map.major] = _5map.encodeMap;\n  encoders[token.Type.tag.major] = _6tag.encodeTag;\n  encoders[token.Type.float.major] = _7float.encodeFloat;\n  return encoders;\n}\n\nconst cborEncoders = makeCborEncoders();\nconst buf = new bl.Bl();\n\nclass Ref {\n  constructor(obj, parent) {\n    this.obj = obj;\n    this.parent = parent;\n  }\n\n  includes(obj) {\n    let p = this;\n\n    do {\n      if (p.obj === obj) {\n        return true;\n      }\n    } while (p = p.parent);\n\n    return false;\n  }\n\n  static createCheck(stack, obj) {\n    if (stack && stack.includes(obj)) {\n      throw new Error(`${common.encodeErrPrefix} object contains circular references`);\n    }\n\n    return new Ref(obj, stack);\n  }\n\n}\n\nconst simpleTokens = {\n  null: new token.Token(token.Type.null, null),\n  undefined: new token.Token(token.Type.undefined, undefined),\n  true: new token.Token(token.Type.true, true),\n  false: new token.Token(token.Type.false, false),\n  emptyArray: new token.Token(token.Type.array, 0),\n  emptyMap: new token.Token(token.Type.map, 0)\n};\nconst typeEncoders = {\n  number(obj, _typ, _options, _refStack) {\n    if (!Number.isInteger(obj) || !Number.isSafeInteger(obj)) {\n      return new token.Token(token.Type.float, obj);\n    } else if (obj >= 0) {\n      return new token.Token(token.Type.uint, obj);\n    } else {\n      return new token.Token(token.Type.negint, obj);\n    }\n  },\n\n  bigint(obj, _typ, _options, _refStack) {\n    if (obj >= BigInt(0)) {\n      return new token.Token(token.Type.uint, obj);\n    } else {\n      return new token.Token(token.Type.negint, obj);\n    }\n  },\n\n  Uint8Array(obj, _typ, _options, _refStack) {\n    return new token.Token(token.Type.bytes, obj);\n  },\n\n  string(obj, _typ, _options, _refStack) {\n    return new token.Token(token.Type.string, obj);\n  },\n\n  boolean(obj, _typ, _options, _refStack) {\n    return obj ? simpleTokens.true : simpleTokens.false;\n  },\n\n  null(_obj, _typ, _options, _refStack) {\n    return simpleTokens.null;\n  },\n\n  undefined(_obj, _typ, _options, _refStack) {\n    return simpleTokens.undefined;\n  },\n\n  ArrayBuffer(obj, _typ, _options, _refStack) {\n    return new token.Token(token.Type.bytes, new Uint8Array(obj));\n  },\n\n  DataView(obj, _typ, _options, _refStack) {\n    return new token.Token(token.Type.bytes, new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength));\n  },\n\n  Array(obj, _typ, options, refStack) {\n    if (!obj.length) {\n      if (options.addBreakTokens === true) {\n        return [simpleTokens.emptyArray, new token.Token(token.Type.break)];\n      }\n\n      return simpleTokens.emptyArray;\n    }\n\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n\n    for (const e of obj) {\n      entries[i++] = objectToTokens(e, options, refStack);\n    }\n\n    if (options.addBreakTokens) {\n      return [new token.Token(token.Type.array, obj.length), entries, new token.Token(token.Type.break)];\n    }\n\n    return [new token.Token(token.Type.array, obj.length), entries];\n  },\n\n  Object(obj, typ, options, refStack) {\n    const isMap = typ !== 'Object';\n    const keys = isMap ? obj.keys() : Object.keys(obj);\n    const length = isMap ? obj.size : keys.length;\n\n    if (!length) {\n      if (options.addBreakTokens === true) {\n        return [simpleTokens.emptyMap, new token.Token(token.Type.break)];\n      }\n\n      return simpleTokens.emptyMap;\n    }\n\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n\n    for (const key of keys) {\n      entries[i++] = [objectToTokens(key, options, refStack), objectToTokens(isMap ? obj.get(key) : obj[key], options, refStack)];\n    }\n\n    sortMapEntries(entries, options);\n\n    if (options.addBreakTokens) {\n      return [new token.Token(token.Type.map, length), entries, new token.Token(token.Type.break)];\n    }\n\n    return [new token.Token(token.Type.map, length), entries];\n  }\n\n};\ntypeEncoders.Map = typeEncoders.Object;\ntypeEncoders.Buffer = typeEncoders.Uint8Array;\n\nfor (const typ of 'Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64'.split(' ')) {\n  typeEncoders[`${typ}Array`] = typeEncoders.DataView;\n}\n\nfunction objectToTokens(obj) {\n  let options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let refStack = arguments.length > 2 ? arguments[2] : undefined;\n  const typ = is.is(obj);\n  const customTypeEncoder = options && options.typeEncoders && options.typeEncoders[typ] || typeEncoders[typ];\n\n  if (typeof customTypeEncoder === 'function') {\n    const tokens = customTypeEncoder(obj, typ, options, refStack);\n\n    if (tokens != null) {\n      return tokens;\n    }\n  }\n\n  const typeEncoder = typeEncoders[typ];\n\n  if (!typeEncoder) {\n    throw new Error(`${common.encodeErrPrefix} unsupported type: ${typ}`);\n  }\n\n  return typeEncoder(obj, typ, options, refStack);\n}\n\nfunction sortMapEntries(entries, options) {\n  if (options.mapSorter) {\n    entries.sort(options.mapSorter);\n  }\n}\n\nfunction mapSorter(e1, e2) {\n  const keyToken1 = Array.isArray(e1[0]) ? e1[0][0] : e1[0];\n  const keyToken2 = Array.isArray(e2[0]) ? e2[0][0] : e2[0];\n\n  if (keyToken1.type !== keyToken2.type) {\n    return keyToken1.type.compare(keyToken2.type);\n  }\n\n  const major = keyToken1.type.major;\n  const tcmp = cborEncoders[major].compareTokens(keyToken1, keyToken2);\n\n  if (tcmp === 0) {\n    console.warn('WARNING: complex key types used, CBOR key sorting guarantees are gone');\n  }\n\n  return tcmp;\n}\n\nfunction tokensToEncoded(buf, tokens, encoders, options) {\n  if (Array.isArray(tokens)) {\n    for (const token of tokens) {\n      tokensToEncoded(buf, token, encoders, options);\n    }\n  } else {\n    encoders[tokens.type.major](buf, tokens, options);\n  }\n}\n\nfunction encodeCustom(data, encoders, options) {\n  const tokens = objectToTokens(data, options);\n\n  if (!Array.isArray(tokens) && options.quickEncodeToken) {\n    const quickBytes = options.quickEncodeToken(tokens);\n\n    if (quickBytes) {\n      return quickBytes;\n    }\n\n    const encoder = encoders[tokens.type.major];\n\n    if (encoder.encodedSize) {\n      const size = encoder.encodedSize(tokens, options);\n      const buf = new bl.Bl(size);\n      encoder(buf, tokens, options);\n\n      if (buf.chunks.length !== 1) {\n        throw new Error(`Unexpected error: pre-calculated length for ${tokens} was wrong`);\n      }\n\n      return byteUtils.asU8A(buf.chunks[0]);\n    }\n  }\n\n  buf.reset();\n  tokensToEncoded(buf, tokens, encoders, options);\n  return buf.toBytes(true);\n}\n\nfunction encode(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  return encodeCustom(data, cborEncoders, options);\n}\n\nexports.Ref = Ref;\nexports.encode = encode;\nexports.encodeCustom = encodeCustom;\nexports.makeCborEncoders = makeCborEncoders;\nexports.objectToTokens = objectToTokens;","map":{"version":3,"names":["Object","defineProperty","exports","value","is","require","token","bl","common","jump","byteUtils","_0uint","_1negint","_2bytes","_3string","_4array","_5map","_6tag","_7float","defaultEncodeOptions","float64","mapSorter","quickEncodeToken","makeCborEncoders","encoders","Type","uint","major","encodeUint","negint","encodeNegint","bytes","encodeBytes","string","encodeString","array","encodeArray","map","encodeMap","tag","encodeTag","float","encodeFloat","cborEncoders","buf","Bl","Ref","constructor","obj","parent","includes","p","createCheck","stack","Error","encodeErrPrefix","simpleTokens","null","Token","undefined","true","false","emptyArray","emptyMap","typeEncoders","number","_typ","_options","_refStack","Number","isInteger","isSafeInteger","bigint","BigInt","Uint8Array","boolean","_obj","ArrayBuffer","DataView","buffer","byteOffset","byteLength","Array","options","refStack","length","addBreakTokens","break","entries","i","e","objectToTokens","typ","isMap","keys","size","key","get","sortMapEntries","Map","Buffer","split","customTypeEncoder","tokens","typeEncoder","sort","e1","e2","keyToken1","isArray","keyToken2","type","compare","tcmp","compareTokens","console","warn","tokensToEncoded","encodeCustom","data","quickBytes","encoder","encodedSize","chunks","asU8A","reset","toBytes","encode","assign"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/cborg/cjs/lib/encode.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar is = require('./is.js');\nvar token = require('./token.js');\nvar bl = require('./bl.js');\nvar common = require('./common.js');\nvar jump = require('./jump.js');\nvar byteUtils = require('./byte-utils.js');\nvar _0uint = require('./0uint.js');\nvar _1negint = require('./1negint.js');\nvar _2bytes = require('./2bytes.js');\nvar _3string = require('./3string.js');\nvar _4array = require('./4array.js');\nvar _5map = require('./5map.js');\nvar _6tag = require('./6tag.js');\nvar _7float = require('./7float.js');\n\nconst defaultEncodeOptions = {\n  float64: false,\n  mapSorter,\n  quickEncodeToken: jump.quickEncodeToken\n};\nfunction makeCborEncoders() {\n  const encoders = [];\n  encoders[token.Type.uint.major] = _0uint.encodeUint;\n  encoders[token.Type.negint.major] = _1negint.encodeNegint;\n  encoders[token.Type.bytes.major] = _2bytes.encodeBytes;\n  encoders[token.Type.string.major] = _3string.encodeString;\n  encoders[token.Type.array.major] = _4array.encodeArray;\n  encoders[token.Type.map.major] = _5map.encodeMap;\n  encoders[token.Type.tag.major] = _6tag.encodeTag;\n  encoders[token.Type.float.major] = _7float.encodeFloat;\n  return encoders;\n}\nconst cborEncoders = makeCborEncoders();\nconst buf = new bl.Bl();\nclass Ref {\n  constructor(obj, parent) {\n    this.obj = obj;\n    this.parent = parent;\n  }\n  includes(obj) {\n    let p = this;\n    do {\n      if (p.obj === obj) {\n        return true;\n      }\n    } while (p = p.parent);\n    return false;\n  }\n  static createCheck(stack, obj) {\n    if (stack && stack.includes(obj)) {\n      throw new Error(`${ common.encodeErrPrefix } object contains circular references`);\n    }\n    return new Ref(obj, stack);\n  }\n}\nconst simpleTokens = {\n  null: new token.Token(token.Type.null, null),\n  undefined: new token.Token(token.Type.undefined, undefined),\n  true: new token.Token(token.Type.true, true),\n  false: new token.Token(token.Type.false, false),\n  emptyArray: new token.Token(token.Type.array, 0),\n  emptyMap: new token.Token(token.Type.map, 0)\n};\nconst typeEncoders = {\n  number(obj, _typ, _options, _refStack) {\n    if (!Number.isInteger(obj) || !Number.isSafeInteger(obj)) {\n      return new token.Token(token.Type.float, obj);\n    } else if (obj >= 0) {\n      return new token.Token(token.Type.uint, obj);\n    } else {\n      return new token.Token(token.Type.negint, obj);\n    }\n  },\n  bigint(obj, _typ, _options, _refStack) {\n    if (obj >= BigInt(0)) {\n      return new token.Token(token.Type.uint, obj);\n    } else {\n      return new token.Token(token.Type.negint, obj);\n    }\n  },\n  Uint8Array(obj, _typ, _options, _refStack) {\n    return new token.Token(token.Type.bytes, obj);\n  },\n  string(obj, _typ, _options, _refStack) {\n    return new token.Token(token.Type.string, obj);\n  },\n  boolean(obj, _typ, _options, _refStack) {\n    return obj ? simpleTokens.true : simpleTokens.false;\n  },\n  null(_obj, _typ, _options, _refStack) {\n    return simpleTokens.null;\n  },\n  undefined(_obj, _typ, _options, _refStack) {\n    return simpleTokens.undefined;\n  },\n  ArrayBuffer(obj, _typ, _options, _refStack) {\n    return new token.Token(token.Type.bytes, new Uint8Array(obj));\n  },\n  DataView(obj, _typ, _options, _refStack) {\n    return new token.Token(token.Type.bytes, new Uint8Array(obj.buffer, obj.byteOffset, obj.byteLength));\n  },\n  Array(obj, _typ, options, refStack) {\n    if (!obj.length) {\n      if (options.addBreakTokens === true) {\n        return [\n          simpleTokens.emptyArray,\n          new token.Token(token.Type.break)\n        ];\n      }\n      return simpleTokens.emptyArray;\n    }\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n    for (const e of obj) {\n      entries[i++] = objectToTokens(e, options, refStack);\n    }\n    if (options.addBreakTokens) {\n      return [\n        new token.Token(token.Type.array, obj.length),\n        entries,\n        new token.Token(token.Type.break)\n      ];\n    }\n    return [\n      new token.Token(token.Type.array, obj.length),\n      entries\n    ];\n  },\n  Object(obj, typ, options, refStack) {\n    const isMap = typ !== 'Object';\n    const keys = isMap ? obj.keys() : Object.keys(obj);\n    const length = isMap ? obj.size : keys.length;\n    if (!length) {\n      if (options.addBreakTokens === true) {\n        return [\n          simpleTokens.emptyMap,\n          new token.Token(token.Type.break)\n        ];\n      }\n      return simpleTokens.emptyMap;\n    }\n    refStack = Ref.createCheck(refStack, obj);\n    const entries = [];\n    let i = 0;\n    for (const key of keys) {\n      entries[i++] = [\n        objectToTokens(key, options, refStack),\n        objectToTokens(isMap ? obj.get(key) : obj[key], options, refStack)\n      ];\n    }\n    sortMapEntries(entries, options);\n    if (options.addBreakTokens) {\n      return [\n        new token.Token(token.Type.map, length),\n        entries,\n        new token.Token(token.Type.break)\n      ];\n    }\n    return [\n      new token.Token(token.Type.map, length),\n      entries\n    ];\n  }\n};\ntypeEncoders.Map = typeEncoders.Object;\ntypeEncoders.Buffer = typeEncoders.Uint8Array;\nfor (const typ of 'Uint8Clamped Uint16 Uint32 Int8 Int16 Int32 BigUint64 BigInt64 Float32 Float64'.split(' ')) {\n  typeEncoders[`${ typ }Array`] = typeEncoders.DataView;\n}\nfunction objectToTokens(obj, options = {}, refStack) {\n  const typ = is.is(obj);\n  const customTypeEncoder = options && options.typeEncoders && options.typeEncoders[typ] || typeEncoders[typ];\n  if (typeof customTypeEncoder === 'function') {\n    const tokens = customTypeEncoder(obj, typ, options, refStack);\n    if (tokens != null) {\n      return tokens;\n    }\n  }\n  const typeEncoder = typeEncoders[typ];\n  if (!typeEncoder) {\n    throw new Error(`${ common.encodeErrPrefix } unsupported type: ${ typ }`);\n  }\n  return typeEncoder(obj, typ, options, refStack);\n}\nfunction sortMapEntries(entries, options) {\n  if (options.mapSorter) {\n    entries.sort(options.mapSorter);\n  }\n}\nfunction mapSorter(e1, e2) {\n  const keyToken1 = Array.isArray(e1[0]) ? e1[0][0] : e1[0];\n  const keyToken2 = Array.isArray(e2[0]) ? e2[0][0] : e2[0];\n  if (keyToken1.type !== keyToken2.type) {\n    return keyToken1.type.compare(keyToken2.type);\n  }\n  const major = keyToken1.type.major;\n  const tcmp = cborEncoders[major].compareTokens(keyToken1, keyToken2);\n  if (tcmp === 0) {\n    console.warn('WARNING: complex key types used, CBOR key sorting guarantees are gone');\n  }\n  return tcmp;\n}\nfunction tokensToEncoded(buf, tokens, encoders, options) {\n  if (Array.isArray(tokens)) {\n    for (const token of tokens) {\n      tokensToEncoded(buf, token, encoders, options);\n    }\n  } else {\n    encoders[tokens.type.major](buf, tokens, options);\n  }\n}\nfunction encodeCustom(data, encoders, options) {\n  const tokens = objectToTokens(data, options);\n  if (!Array.isArray(tokens) && options.quickEncodeToken) {\n    const quickBytes = options.quickEncodeToken(tokens);\n    if (quickBytes) {\n      return quickBytes;\n    }\n    const encoder = encoders[tokens.type.major];\n    if (encoder.encodedSize) {\n      const size = encoder.encodedSize(tokens, options);\n      const buf = new bl.Bl(size);\n      encoder(buf, tokens, options);\n      if (buf.chunks.length !== 1) {\n        throw new Error(`Unexpected error: pre-calculated length for ${ tokens } was wrong`);\n      }\n      return byteUtils.asU8A(buf.chunks[0]);\n    }\n  }\n  buf.reset();\n  tokensToEncoded(buf, tokens, encoders, options);\n  return buf.toBytes(true);\n}\nfunction encode(data, options) {\n  options = Object.assign({}, defaultEncodeOptions, options);\n  return encodeCustom(data, cborEncoders, options);\n}\n\nexports.Ref = Ref;\nexports.encode = encode;\nexports.encodeCustom = encodeCustom;\nexports.makeCborEncoders = makeCborEncoders;\nexports.objectToTokens = objectToTokens;\n"],"mappings":"AAAA;;AAEAA,MAAM,CAACC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;EAAEC,KAAK,EAAE;AAAT,CAA7C;;AAEA,IAAIC,EAAE,GAAGC,OAAO,CAAC,SAAD,CAAhB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,YAAD,CAAnB;;AACA,IAAIE,EAAE,GAAGF,OAAO,CAAC,SAAD,CAAhB;;AACA,IAAIG,MAAM,GAAGH,OAAO,CAAC,aAAD,CAApB;;AACA,IAAII,IAAI,GAAGJ,OAAO,CAAC,WAAD,CAAlB;;AACA,IAAIK,SAAS,GAAGL,OAAO,CAAC,iBAAD,CAAvB;;AACA,IAAIM,MAAM,GAAGN,OAAO,CAAC,YAAD,CAApB;;AACA,IAAIO,QAAQ,GAAGP,OAAO,CAAC,cAAD,CAAtB;;AACA,IAAIQ,OAAO,GAAGR,OAAO,CAAC,aAAD,CAArB;;AACA,IAAIS,QAAQ,GAAGT,OAAO,CAAC,cAAD,CAAtB;;AACA,IAAIU,OAAO,GAAGV,OAAO,CAAC,aAAD,CAArB;;AACA,IAAIW,KAAK,GAAGX,OAAO,CAAC,WAAD,CAAnB;;AACA,IAAIY,KAAK,GAAGZ,OAAO,CAAC,WAAD,CAAnB;;AACA,IAAIa,OAAO,GAAGb,OAAO,CAAC,aAAD,CAArB;;AAEA,MAAMc,oBAAoB,GAAG;EAC3BC,OAAO,EAAE,KADkB;EAE3BC,SAF2B;EAG3BC,gBAAgB,EAAEb,IAAI,CAACa;AAHI,CAA7B;;AAKA,SAASC,gBAAT,GAA4B;EAC1B,MAAMC,QAAQ,GAAG,EAAjB;EACAA,QAAQ,CAAClB,KAAK,CAACmB,IAAN,CAAWC,IAAX,CAAgBC,KAAjB,CAAR,GAAkChB,MAAM,CAACiB,UAAzC;EACAJ,QAAQ,CAAClB,KAAK,CAACmB,IAAN,CAAWI,MAAX,CAAkBF,KAAnB,CAAR,GAAoCf,QAAQ,CAACkB,YAA7C;EACAN,QAAQ,CAAClB,KAAK,CAACmB,IAAN,CAAWM,KAAX,CAAiBJ,KAAlB,CAAR,GAAmCd,OAAO,CAACmB,WAA3C;EACAR,QAAQ,CAAClB,KAAK,CAACmB,IAAN,CAAWQ,MAAX,CAAkBN,KAAnB,CAAR,GAAoCb,QAAQ,CAACoB,YAA7C;EACAV,QAAQ,CAAClB,KAAK,CAACmB,IAAN,CAAWU,KAAX,CAAiBR,KAAlB,CAAR,GAAmCZ,OAAO,CAACqB,WAA3C;EACAZ,QAAQ,CAAClB,KAAK,CAACmB,IAAN,CAAWY,GAAX,CAAeV,KAAhB,CAAR,GAAiCX,KAAK,CAACsB,SAAvC;EACAd,QAAQ,CAAClB,KAAK,CAACmB,IAAN,CAAWc,GAAX,CAAeZ,KAAhB,CAAR,GAAiCV,KAAK,CAACuB,SAAvC;EACAhB,QAAQ,CAAClB,KAAK,CAACmB,IAAN,CAAWgB,KAAX,CAAiBd,KAAlB,CAAR,GAAmCT,OAAO,CAACwB,WAA3C;EACA,OAAOlB,QAAP;AACD;;AACD,MAAMmB,YAAY,GAAGpB,gBAAgB,EAArC;AACA,MAAMqB,GAAG,GAAG,IAAIrC,EAAE,CAACsC,EAAP,EAAZ;;AACA,MAAMC,GAAN,CAAU;EACRC,WAAW,CAACC,GAAD,EAAMC,MAAN,EAAc;IACvB,KAAKD,GAAL,GAAWA,GAAX;IACA,KAAKC,MAAL,GAAcA,MAAd;EACD;;EACDC,QAAQ,CAACF,GAAD,EAAM;IACZ,IAAIG,CAAC,GAAG,IAAR;;IACA,GAAG;MACD,IAAIA,CAAC,CAACH,GAAF,KAAUA,GAAd,EAAmB;QACjB,OAAO,IAAP;MACD;IACF,CAJD,QAISG,CAAC,GAAGA,CAAC,CAACF,MAJf;;IAKA,OAAO,KAAP;EACD;;EACiB,OAAXG,WAAW,CAACC,KAAD,EAAQL,GAAR,EAAa;IAC7B,IAAIK,KAAK,IAAIA,KAAK,CAACH,QAAN,CAAeF,GAAf,CAAb,EAAkC;MAChC,MAAM,IAAIM,KAAJ,CAAW,GAAG9C,MAAM,CAAC+C,eAAiB,sCAAtC,CAAN;IACD;;IACD,OAAO,IAAIT,GAAJ,CAAQE,GAAR,EAAaK,KAAb,CAAP;EACD;;AAnBO;;AAqBV,MAAMG,YAAY,GAAG;EACnBC,IAAI,EAAE,IAAInD,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWgC,IAA3B,EAAiC,IAAjC,CADa;EAEnBE,SAAS,EAAE,IAAIrD,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWkC,SAA3B,EAAsCA,SAAtC,CAFQ;EAGnBC,IAAI,EAAE,IAAItD,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWmC,IAA3B,EAAiC,IAAjC,CAHa;EAInBC,KAAK,EAAE,IAAIvD,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWoC,KAA3B,EAAkC,KAAlC,CAJY;EAKnBC,UAAU,EAAE,IAAIxD,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWU,KAA3B,EAAkC,CAAlC,CALO;EAMnB4B,QAAQ,EAAE,IAAIzD,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWY,GAA3B,EAAgC,CAAhC;AANS,CAArB;AAQA,MAAM2B,YAAY,GAAG;EACnBC,MAAM,CAACjB,GAAD,EAAMkB,IAAN,EAAYC,QAAZ,EAAsBC,SAAtB,EAAiC;IACrC,IAAI,CAACC,MAAM,CAACC,SAAP,CAAiBtB,GAAjB,CAAD,IAA0B,CAACqB,MAAM,CAACE,aAAP,CAAqBvB,GAArB,CAA/B,EAA0D;MACxD,OAAO,IAAI1C,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWgB,KAA3B,EAAkCO,GAAlC,CAAP;IACD,CAFD,MAEO,IAAIA,GAAG,IAAI,CAAX,EAAc;MACnB,OAAO,IAAI1C,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWC,IAA3B,EAAiCsB,GAAjC,CAAP;IACD,CAFM,MAEA;MACL,OAAO,IAAI1C,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWI,MAA3B,EAAmCmB,GAAnC,CAAP;IACD;EACF,CATkB;;EAUnBwB,MAAM,CAACxB,GAAD,EAAMkB,IAAN,EAAYC,QAAZ,EAAsBC,SAAtB,EAAiC;IACrC,IAAIpB,GAAG,IAAIyB,MAAM,CAAC,CAAD,CAAjB,EAAsB;MACpB,OAAO,IAAInE,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWC,IAA3B,EAAiCsB,GAAjC,CAAP;IACD,CAFD,MAEO;MACL,OAAO,IAAI1C,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWI,MAA3B,EAAmCmB,GAAnC,CAAP;IACD;EACF,CAhBkB;;EAiBnB0B,UAAU,CAAC1B,GAAD,EAAMkB,IAAN,EAAYC,QAAZ,EAAsBC,SAAtB,EAAiC;IACzC,OAAO,IAAI9D,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWM,KAA3B,EAAkCiB,GAAlC,CAAP;EACD,CAnBkB;;EAoBnBf,MAAM,CAACe,GAAD,EAAMkB,IAAN,EAAYC,QAAZ,EAAsBC,SAAtB,EAAiC;IACrC,OAAO,IAAI9D,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWQ,MAA3B,EAAmCe,GAAnC,CAAP;EACD,CAtBkB;;EAuBnB2B,OAAO,CAAC3B,GAAD,EAAMkB,IAAN,EAAYC,QAAZ,EAAsBC,SAAtB,EAAiC;IACtC,OAAOpB,GAAG,GAAGQ,YAAY,CAACI,IAAhB,GAAuBJ,YAAY,CAACK,KAA9C;EACD,CAzBkB;;EA0BnBJ,IAAI,CAACmB,IAAD,EAAOV,IAAP,EAAaC,QAAb,EAAuBC,SAAvB,EAAkC;IACpC,OAAOZ,YAAY,CAACC,IAApB;EACD,CA5BkB;;EA6BnBE,SAAS,CAACiB,IAAD,EAAOV,IAAP,EAAaC,QAAb,EAAuBC,SAAvB,EAAkC;IACzC,OAAOZ,YAAY,CAACG,SAApB;EACD,CA/BkB;;EAgCnBkB,WAAW,CAAC7B,GAAD,EAAMkB,IAAN,EAAYC,QAAZ,EAAsBC,SAAtB,EAAiC;IAC1C,OAAO,IAAI9D,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWM,KAA3B,EAAkC,IAAI2C,UAAJ,CAAe1B,GAAf,CAAlC,CAAP;EACD,CAlCkB;;EAmCnB8B,QAAQ,CAAC9B,GAAD,EAAMkB,IAAN,EAAYC,QAAZ,EAAsBC,SAAtB,EAAiC;IACvC,OAAO,IAAI9D,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWM,KAA3B,EAAkC,IAAI2C,UAAJ,CAAe1B,GAAG,CAAC+B,MAAnB,EAA2B/B,GAAG,CAACgC,UAA/B,EAA2ChC,GAAG,CAACiC,UAA/C,CAAlC,CAAP;EACD,CArCkB;;EAsCnBC,KAAK,CAAClC,GAAD,EAAMkB,IAAN,EAAYiB,OAAZ,EAAqBC,QAArB,EAA+B;IAClC,IAAI,CAACpC,GAAG,CAACqC,MAAT,EAAiB;MACf,IAAIF,OAAO,CAACG,cAAR,KAA2B,IAA/B,EAAqC;QACnC,OAAO,CACL9B,YAAY,CAACM,UADR,EAEL,IAAIxD,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAW8D,KAA3B,CAFK,CAAP;MAID;;MACD,OAAO/B,YAAY,CAACM,UAApB;IACD;;IACDsB,QAAQ,GAAGtC,GAAG,CAACM,WAAJ,CAAgBgC,QAAhB,EAA0BpC,GAA1B,CAAX;IACA,MAAMwC,OAAO,GAAG,EAAhB;IACA,IAAIC,CAAC,GAAG,CAAR;;IACA,KAAK,MAAMC,CAAX,IAAgB1C,GAAhB,EAAqB;MACnBwC,OAAO,CAACC,CAAC,EAAF,CAAP,GAAeE,cAAc,CAACD,CAAD,EAAIP,OAAJ,EAAaC,QAAb,CAA7B;IACD;;IACD,IAAID,OAAO,CAACG,cAAZ,EAA4B;MAC1B,OAAO,CACL,IAAIhF,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWU,KAA3B,EAAkCa,GAAG,CAACqC,MAAtC,CADK,EAELG,OAFK,EAGL,IAAIlF,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAW8D,KAA3B,CAHK,CAAP;IAKD;;IACD,OAAO,CACL,IAAIjF,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWU,KAA3B,EAAkCa,GAAG,CAACqC,MAAtC,CADK,EAELG,OAFK,CAAP;EAID,CAjEkB;;EAkEnBxF,MAAM,CAACgD,GAAD,EAAM4C,GAAN,EAAWT,OAAX,EAAoBC,QAApB,EAA8B;IAClC,MAAMS,KAAK,GAAGD,GAAG,KAAK,QAAtB;IACA,MAAME,IAAI,GAAGD,KAAK,GAAG7C,GAAG,CAAC8C,IAAJ,EAAH,GAAgB9F,MAAM,CAAC8F,IAAP,CAAY9C,GAAZ,CAAlC;IACA,MAAMqC,MAAM,GAAGQ,KAAK,GAAG7C,GAAG,CAAC+C,IAAP,GAAcD,IAAI,CAACT,MAAvC;;IACA,IAAI,CAACA,MAAL,EAAa;MACX,IAAIF,OAAO,CAACG,cAAR,KAA2B,IAA/B,EAAqC;QACnC,OAAO,CACL9B,YAAY,CAACO,QADR,EAEL,IAAIzD,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAW8D,KAA3B,CAFK,CAAP;MAID;;MACD,OAAO/B,YAAY,CAACO,QAApB;IACD;;IACDqB,QAAQ,GAAGtC,GAAG,CAACM,WAAJ,CAAgBgC,QAAhB,EAA0BpC,GAA1B,CAAX;IACA,MAAMwC,OAAO,GAAG,EAAhB;IACA,IAAIC,CAAC,GAAG,CAAR;;IACA,KAAK,MAAMO,GAAX,IAAkBF,IAAlB,EAAwB;MACtBN,OAAO,CAACC,CAAC,EAAF,CAAP,GAAe,CACbE,cAAc,CAACK,GAAD,EAAMb,OAAN,EAAeC,QAAf,CADD,EAEbO,cAAc,CAACE,KAAK,GAAG7C,GAAG,CAACiD,GAAJ,CAAQD,GAAR,CAAH,GAAkBhD,GAAG,CAACgD,GAAD,CAA3B,EAAkCb,OAAlC,EAA2CC,QAA3C,CAFD,CAAf;IAID;;IACDc,cAAc,CAACV,OAAD,EAAUL,OAAV,CAAd;;IACA,IAAIA,OAAO,CAACG,cAAZ,EAA4B;MAC1B,OAAO,CACL,IAAIhF,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWY,GAA3B,EAAgCgD,MAAhC,CADK,EAELG,OAFK,EAGL,IAAIlF,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAW8D,KAA3B,CAHK,CAAP;IAKD;;IACD,OAAO,CACL,IAAIjF,KAAK,CAACoD,KAAV,CAAgBpD,KAAK,CAACmB,IAAN,CAAWY,GAA3B,EAAgCgD,MAAhC,CADK,EAELG,OAFK,CAAP;EAID;;AApGkB,CAArB;AAsGAxB,YAAY,CAACmC,GAAb,GAAmBnC,YAAY,CAAChE,MAAhC;AACAgE,YAAY,CAACoC,MAAb,GAAsBpC,YAAY,CAACU,UAAnC;;AACA,KAAK,MAAMkB,GAAX,IAAkB,iFAAiFS,KAAjF,CAAuF,GAAvF,CAAlB,EAA+G;EAC7GrC,YAAY,CAAE,GAAG4B,GAAK,OAAV,CAAZ,GAAgC5B,YAAY,CAACc,QAA7C;AACD;;AACD,SAASa,cAAT,CAAwB3C,GAAxB,EAAqD;EAAA,IAAxBmC,OAAwB,uEAAd,EAAc;EAAA,IAAVC,QAAU;EACnD,MAAMQ,GAAG,GAAGxF,EAAE,CAACA,EAAH,CAAM4C,GAAN,CAAZ;EACA,MAAMsD,iBAAiB,GAAGnB,OAAO,IAAIA,OAAO,CAACnB,YAAnB,IAAmCmB,OAAO,CAACnB,YAAR,CAAqB4B,GAArB,CAAnC,IAAgE5B,YAAY,CAAC4B,GAAD,CAAtG;;EACA,IAAI,OAAOU,iBAAP,KAA6B,UAAjC,EAA6C;IAC3C,MAAMC,MAAM,GAAGD,iBAAiB,CAACtD,GAAD,EAAM4C,GAAN,EAAWT,OAAX,EAAoBC,QAApB,CAAhC;;IACA,IAAImB,MAAM,IAAI,IAAd,EAAoB;MAClB,OAAOA,MAAP;IACD;EACF;;EACD,MAAMC,WAAW,GAAGxC,YAAY,CAAC4B,GAAD,CAAhC;;EACA,IAAI,CAACY,WAAL,EAAkB;IAChB,MAAM,IAAIlD,KAAJ,CAAW,GAAG9C,MAAM,CAAC+C,eAAiB,sBAAsBqC,GAAK,EAAjE,CAAN;EACD;;EACD,OAAOY,WAAW,CAACxD,GAAD,EAAM4C,GAAN,EAAWT,OAAX,EAAoBC,QAApB,CAAlB;AACD;;AACD,SAASc,cAAT,CAAwBV,OAAxB,EAAiCL,OAAjC,EAA0C;EACxC,IAAIA,OAAO,CAAC9D,SAAZ,EAAuB;IACrBmE,OAAO,CAACiB,IAAR,CAAatB,OAAO,CAAC9D,SAArB;EACD;AACF;;AACD,SAASA,SAAT,CAAmBqF,EAAnB,EAAuBC,EAAvB,EAA2B;EACzB,MAAMC,SAAS,GAAG1B,KAAK,CAAC2B,OAAN,CAAcH,EAAE,CAAC,CAAD,CAAhB,IAAuBA,EAAE,CAAC,CAAD,CAAF,CAAM,CAAN,CAAvB,GAAkCA,EAAE,CAAC,CAAD,CAAtD;EACA,MAAMI,SAAS,GAAG5B,KAAK,CAAC2B,OAAN,CAAcF,EAAE,CAAC,CAAD,CAAhB,IAAuBA,EAAE,CAAC,CAAD,CAAF,CAAM,CAAN,CAAvB,GAAkCA,EAAE,CAAC,CAAD,CAAtD;;EACA,IAAIC,SAAS,CAACG,IAAV,KAAmBD,SAAS,CAACC,IAAjC,EAAuC;IACrC,OAAOH,SAAS,CAACG,IAAV,CAAeC,OAAf,CAAuBF,SAAS,CAACC,IAAjC,CAAP;EACD;;EACD,MAAMpF,KAAK,GAAGiF,SAAS,CAACG,IAAV,CAAepF,KAA7B;EACA,MAAMsF,IAAI,GAAGtE,YAAY,CAAChB,KAAD,CAAZ,CAAoBuF,aAApB,CAAkCN,SAAlC,EAA6CE,SAA7C,CAAb;;EACA,IAAIG,IAAI,KAAK,CAAb,EAAgB;IACdE,OAAO,CAACC,IAAR,CAAa,uEAAb;EACD;;EACD,OAAOH,IAAP;AACD;;AACD,SAASI,eAAT,CAAyBzE,GAAzB,EAA8B2D,MAA9B,EAAsC/E,QAAtC,EAAgD2D,OAAhD,EAAyD;EACvD,IAAID,KAAK,CAAC2B,OAAN,CAAcN,MAAd,CAAJ,EAA2B;IACzB,KAAK,MAAMjG,KAAX,IAAoBiG,MAApB,EAA4B;MAC1Bc,eAAe,CAACzE,GAAD,EAAMtC,KAAN,EAAakB,QAAb,EAAuB2D,OAAvB,CAAf;IACD;EACF,CAJD,MAIO;IACL3D,QAAQ,CAAC+E,MAAM,CAACQ,IAAP,CAAYpF,KAAb,CAAR,CAA4BiB,GAA5B,EAAiC2D,MAAjC,EAAyCpB,OAAzC;EACD;AACF;;AACD,SAASmC,YAAT,CAAsBC,IAAtB,EAA4B/F,QAA5B,EAAsC2D,OAAtC,EAA+C;EAC7C,MAAMoB,MAAM,GAAGZ,cAAc,CAAC4B,IAAD,EAAOpC,OAAP,CAA7B;;EACA,IAAI,CAACD,KAAK,CAAC2B,OAAN,CAAcN,MAAd,CAAD,IAA0BpB,OAAO,CAAC7D,gBAAtC,EAAwD;IACtD,MAAMkG,UAAU,GAAGrC,OAAO,CAAC7D,gBAAR,CAAyBiF,MAAzB,CAAnB;;IACA,IAAIiB,UAAJ,EAAgB;MACd,OAAOA,UAAP;IACD;;IACD,MAAMC,OAAO,GAAGjG,QAAQ,CAAC+E,MAAM,CAACQ,IAAP,CAAYpF,KAAb,CAAxB;;IACA,IAAI8F,OAAO,CAACC,WAAZ,EAAyB;MACvB,MAAM3B,IAAI,GAAG0B,OAAO,CAACC,WAAR,CAAoBnB,MAApB,EAA4BpB,OAA5B,CAAb;MACA,MAAMvC,GAAG,GAAG,IAAIrC,EAAE,CAACsC,EAAP,CAAUkD,IAAV,CAAZ;MACA0B,OAAO,CAAC7E,GAAD,EAAM2D,MAAN,EAAcpB,OAAd,CAAP;;MACA,IAAIvC,GAAG,CAAC+E,MAAJ,CAAWtC,MAAX,KAAsB,CAA1B,EAA6B;QAC3B,MAAM,IAAI/B,KAAJ,CAAW,+CAA+CiD,MAAQ,YAAlE,CAAN;MACD;;MACD,OAAO7F,SAAS,CAACkH,KAAV,CAAgBhF,GAAG,CAAC+E,MAAJ,CAAW,CAAX,CAAhB,CAAP;IACD;EACF;;EACD/E,GAAG,CAACiF,KAAJ;EACAR,eAAe,CAACzE,GAAD,EAAM2D,MAAN,EAAc/E,QAAd,EAAwB2D,OAAxB,CAAf;EACA,OAAOvC,GAAG,CAACkF,OAAJ,CAAY,IAAZ,CAAP;AACD;;AACD,SAASC,MAAT,CAAgBR,IAAhB,EAAsBpC,OAAtB,EAA+B;EAC7BA,OAAO,GAAGnF,MAAM,CAACgI,MAAP,CAAc,EAAd,EAAkB7G,oBAAlB,EAAwCgE,OAAxC,CAAV;EACA,OAAOmC,YAAY,CAACC,IAAD,EAAO5E,YAAP,EAAqBwC,OAArB,CAAnB;AACD;;AAEDjF,OAAO,CAAC4C,GAAR,GAAcA,GAAd;AACA5C,OAAO,CAAC6H,MAAR,GAAiBA,MAAjB;AACA7H,OAAO,CAACoH,YAAR,GAAuBA,YAAvB;AACApH,OAAO,CAACqB,gBAAR,GAA2BA,gBAA3B;AACArB,OAAO,CAACyF,cAAR,GAAyBA,cAAzB"},"metadata":{},"sourceType":"script"}