{"ast":null,"code":"'use strict';\n\nconst childProcess = require('child_process'),\n      childModule = require.resolve('./child/index');\n\nfunction fork(forkModule, workerOptions) {\n  // suppress --debug / --inspect flags while preserving others (like --harmony)\n  let filteredArgs = process.execArgv.filter(function (v) {\n    return !/^--(debug|inspect)/.test(v);\n  }),\n      options = Object.assign({\n    execArgv: filteredArgs,\n    env: process.env,\n    cwd: process.cwd()\n  }, workerOptions),\n      child = childProcess.fork(childModule, process.argv, options);\n  child.on('error', function () {// this *should* be picked up by onExit and the operation requeued\n  });\n  child.send({\n    owner: 'farm',\n    module: forkModule\n  }); // return a send() function for this child\n\n  return {\n    send: child.send.bind(child),\n    child: child\n  };\n}\n\nmodule.exports = fork;","map":{"version":3,"names":["childProcess","require","childModule","resolve","fork","forkModule","workerOptions","filteredArgs","process","execArgv","filter","v","test","options","Object","assign","env","cwd","child","argv","on","send","owner","module","bind","exports"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/worker-farm/lib/fork.js"],"sourcesContent":["'use strict'\n\nconst childProcess = require('child_process')\n    , childModule  = require.resolve('./child/index')\n\n\nfunction fork (forkModule, workerOptions) {\n  // suppress --debug / --inspect flags while preserving others (like --harmony)\n  let filteredArgs = process.execArgv.filter(function (v) {\n        return !(/^--(debug|inspect)/).test(v)\n      })\n    , options       = Object.assign({\n          execArgv : filteredArgs\n        , env      : process.env\n        , cwd      : process.cwd()\n      }, workerOptions)\n    , child         = childProcess.fork(childModule, process.argv, options)\n\n  child.on('error', function() {\n    // this *should* be picked up by onExit and the operation requeued\n  })\n\n  child.send({ owner: 'farm', module: forkModule })\n\n  // return a send() function for this child\n  return {\n      send  : child.send.bind(child)\n    , child : child\n  }\n}\n\n\nmodule.exports = fork\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,eAAD,CAA5B;AAAA,MACMC,WAAW,GAAID,OAAO,CAACE,OAAR,CAAgB,eAAhB,CADrB;;AAIA,SAASC,IAAT,CAAeC,UAAf,EAA2BC,aAA3B,EAA0C;EACxC;EACA,IAAIC,YAAY,GAAGC,OAAO,CAACC,QAAR,CAAiBC,MAAjB,CAAwB,UAAUC,CAAV,EAAa;IAClD,OAAO,CAAE,oBAAD,CAAuBC,IAAvB,CAA4BD,CAA5B,CAAR;EACD,CAFc,CAAnB;EAAA,IAGIE,OAAO,GAASC,MAAM,CAACC,MAAP,CAAc;IAC1BN,QAAQ,EAAGF,YADe;IAE1BS,GAAG,EAAQR,OAAO,CAACQ,GAFO;IAG1BC,GAAG,EAAQT,OAAO,CAACS,GAAR;EAHe,CAAd,EAIbX,aAJa,CAHpB;EAAA,IAQIY,KAAK,GAAWlB,YAAY,CAACI,IAAb,CAAkBF,WAAlB,EAA+BM,OAAO,CAACW,IAAvC,EAA6CN,OAA7C,CARpB;EAUAK,KAAK,CAACE,EAAN,CAAS,OAAT,EAAkB,YAAW,CAC3B;EACD,CAFD;EAIAF,KAAK,CAACG,IAAN,CAAW;IAAEC,KAAK,EAAE,MAAT;IAAiBC,MAAM,EAAElB;EAAzB,CAAX,EAhBwC,CAkBxC;;EACA,OAAO;IACHgB,IAAI,EAAIH,KAAK,CAACG,IAAN,CAAWG,IAAX,CAAgBN,KAAhB,CADL;IAEHA,KAAK,EAAGA;EAFL,CAAP;AAID;;AAGDK,MAAM,CAACE,OAAP,GAAiBrB,IAAjB"},"metadata":{},"sourceType":"script"}