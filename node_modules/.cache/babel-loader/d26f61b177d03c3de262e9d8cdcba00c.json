{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nclass AggressiveMergingPlugin {\n  constructor(options) {\n    if (options !== undefined && typeof options !== \"object\" || Array.isArray(options)) {\n      throw new Error(\"Argument should be an options object. To use defaults, pass in nothing.\\nFor more info on options, see https://webpack.js.org/plugins/\");\n    }\n\n    this.options = options || {};\n  }\n\n  apply(compiler) {\n    const options = this.options;\n    const minSizeReduce = options.minSizeReduce || 1.5;\n    compiler.hooks.thisCompilation.tap(\"AggressiveMergingPlugin\", compilation => {\n      compilation.hooks.optimizeChunksAdvanced.tap(\"AggressiveMergingPlugin\", chunks => {\n        let combinations = [];\n        chunks.forEach((a, idx) => {\n          if (a.canBeInitial()) return;\n\n          for (let i = 0; i < idx; i++) {\n            const b = chunks[i];\n            if (b.canBeInitial()) continue;\n            combinations.push({\n              a,\n              b,\n              improvement: undefined\n            });\n          }\n        });\n\n        for (const pair of combinations) {\n          const a = pair.b.size({\n            chunkOverhead: 0\n          });\n          const b = pair.a.size({\n            chunkOverhead: 0\n          });\n          const ab = pair.b.integratedSize(pair.a, {\n            chunkOverhead: 0\n          });\n          let newSize;\n\n          if (ab === false) {\n            pair.improvement = false;\n            return;\n          } else {\n            newSize = ab;\n          }\n\n          pair.improvement = (a + b) / newSize;\n        }\n\n        combinations = combinations.filter(pair => {\n          return pair.improvement !== false;\n        });\n        combinations.sort((a, b) => {\n          return b.improvement - a.improvement;\n        });\n        const pair = combinations[0];\n        if (!pair) return;\n        if (pair.improvement < minSizeReduce) return;\n\n        if (pair.b.integrate(pair.a, \"aggressive-merge\")) {\n          chunks.splice(chunks.indexOf(pair.a), 1);\n          return true;\n        }\n      });\n    });\n  }\n\n}\n\nmodule.exports = AggressiveMergingPlugin;","map":{"version":3,"names":["AggressiveMergingPlugin","constructor","options","undefined","Array","isArray","Error","apply","compiler","minSizeReduce","hooks","thisCompilation","tap","compilation","optimizeChunksAdvanced","chunks","combinations","forEach","a","idx","canBeInitial","i","b","push","improvement","pair","size","chunkOverhead","ab","integratedSize","newSize","filter","sort","integrate","splice","indexOf","module","exports"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/webpack/lib/optimize/AggressiveMergingPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nclass AggressiveMergingPlugin {\n\tconstructor(options) {\n\t\tif (\n\t\t\t(options !== undefined && typeof options !== \"object\") ||\n\t\t\tArray.isArray(options)\n\t\t) {\n\t\t\tthrow new Error(\n\t\t\t\t\"Argument should be an options object. To use defaults, pass in nothing.\\nFor more info on options, see https://webpack.js.org/plugins/\"\n\t\t\t);\n\t\t}\n\t\tthis.options = options || {};\n\t}\n\n\tapply(compiler) {\n\t\tconst options = this.options;\n\t\tconst minSizeReduce = options.minSizeReduce || 1.5;\n\n\t\tcompiler.hooks.thisCompilation.tap(\n\t\t\t\"AggressiveMergingPlugin\",\n\t\t\tcompilation => {\n\t\t\t\tcompilation.hooks.optimizeChunksAdvanced.tap(\n\t\t\t\t\t\"AggressiveMergingPlugin\",\n\t\t\t\t\tchunks => {\n\t\t\t\t\t\tlet combinations = [];\n\t\t\t\t\t\tchunks.forEach((a, idx) => {\n\t\t\t\t\t\t\tif (a.canBeInitial()) return;\n\t\t\t\t\t\t\tfor (let i = 0; i < idx; i++) {\n\t\t\t\t\t\t\t\tconst b = chunks[i];\n\t\t\t\t\t\t\t\tif (b.canBeInitial()) continue;\n\t\t\t\t\t\t\t\tcombinations.push({\n\t\t\t\t\t\t\t\t\ta,\n\t\t\t\t\t\t\t\t\tb,\n\t\t\t\t\t\t\t\t\timprovement: undefined\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tfor (const pair of combinations) {\n\t\t\t\t\t\t\tconst a = pair.b.size({\n\t\t\t\t\t\t\t\tchunkOverhead: 0\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconst b = pair.a.size({\n\t\t\t\t\t\t\t\tchunkOverhead: 0\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tconst ab = pair.b.integratedSize(pair.a, {\n\t\t\t\t\t\t\t\tchunkOverhead: 0\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tlet newSize;\n\t\t\t\t\t\t\tif (ab === false) {\n\t\t\t\t\t\t\t\tpair.improvement = false;\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tnewSize = ab;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tpair.improvement = (a + b) / newSize;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcombinations = combinations.filter(pair => {\n\t\t\t\t\t\t\treturn pair.improvement !== false;\n\t\t\t\t\t\t});\n\t\t\t\t\t\tcombinations.sort((a, b) => {\n\t\t\t\t\t\t\treturn b.improvement - a.improvement;\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\tconst pair = combinations[0];\n\n\t\t\t\t\t\tif (!pair) return;\n\t\t\t\t\t\tif (pair.improvement < minSizeReduce) return;\n\n\t\t\t\t\t\tif (pair.b.integrate(pair.a, \"aggressive-merge\")) {\n\t\t\t\t\t\t\tchunks.splice(chunks.indexOf(pair.a), 1);\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t\t}\n\t\t);\n\t}\n}\n\nmodule.exports = AggressiveMergingPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}