{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst ExternalModule = require(\"./ExternalModule\");\n\nclass ExternalModuleFactoryPlugin {\n  constructor(type, externals) {\n    this.type = type;\n    this.externals = externals;\n  }\n\n  apply(normalModuleFactory) {\n    const globalType = this.type;\n    normalModuleFactory.hooks.factory.tap(\"ExternalModuleFactoryPlugin\", factory => (data, callback) => {\n      const context = data.context;\n      const dependency = data.dependencies[0];\n\n      const handleExternal = (value, type, callback) => {\n        if (typeof type === \"function\") {\n          callback = type;\n          type = undefined;\n        }\n\n        if (value === false) return factory(data, callback);\n        if (value === true) value = dependency.request;\n\n        if (type === undefined && /^[a-z0-9]+ /.test(value)) {\n          const idx = value.indexOf(\" \");\n          type = value.substr(0, idx);\n          value = value.substr(idx + 1);\n        }\n\n        callback(null, new ExternalModule(value, type || globalType, dependency.request));\n        return true;\n      };\n\n      const handleExternals = (externals, callback) => {\n        if (typeof externals === \"string\") {\n          if (externals === dependency.request) {\n            return handleExternal(dependency.request, callback);\n          }\n        } else if (Array.isArray(externals)) {\n          let i = 0;\n\n          const next = () => {\n            let asyncFlag;\n\n            const handleExternalsAndCallback = (err, module) => {\n              if (err) return callback(err);\n\n              if (!module) {\n                if (asyncFlag) {\n                  asyncFlag = false;\n                  return;\n                }\n\n                return next();\n              }\n\n              callback(null, module);\n            };\n\n            do {\n              asyncFlag = true;\n              if (i >= externals.length) return callback();\n              handleExternals(externals[i++], handleExternalsAndCallback);\n            } while (!asyncFlag);\n\n            asyncFlag = false;\n          };\n\n          next();\n          return;\n        } else if (externals instanceof RegExp) {\n          if (externals.test(dependency.request)) {\n            return handleExternal(dependency.request, callback);\n          }\n        } else if (typeof externals === \"function\") {\n          externals.call(null, context, dependency.request, (err, value, type) => {\n            if (err) return callback(err);\n\n            if (value !== undefined) {\n              handleExternal(value, type, callback);\n            } else {\n              callback();\n            }\n          });\n          return;\n        } else if (typeof externals === \"object\" && Object.prototype.hasOwnProperty.call(externals, dependency.request)) {\n          return handleExternal(externals[dependency.request], callback);\n        }\n\n        callback();\n      };\n\n      handleExternals(this.externals, (err, module) => {\n        if (err) return callback(err);\n        if (!module) return handleExternal(false, callback);\n        return callback(null, module);\n      });\n    });\n  }\n\n}\n\nmodule.exports = ExternalModuleFactoryPlugin;","map":{"version":3,"names":["ExternalModule","require","ExternalModuleFactoryPlugin","constructor","type","externals","apply","normalModuleFactory","globalType","hooks","factory","tap","data","callback","context","dependency","dependencies","handleExternal","value","undefined","request","test","idx","indexOf","substr","handleExternals","Array","isArray","i","next","asyncFlag","handleExternalsAndCallback","err","module","length","RegExp","call","Object","prototype","hasOwnProperty","exports"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/webpack/lib/ExternalModuleFactoryPlugin.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst ExternalModule = require(\"./ExternalModule\");\n\nclass ExternalModuleFactoryPlugin {\n\tconstructor(type, externals) {\n\t\tthis.type = type;\n\t\tthis.externals = externals;\n\t}\n\n\tapply(normalModuleFactory) {\n\t\tconst globalType = this.type;\n\t\tnormalModuleFactory.hooks.factory.tap(\n\t\t\t\"ExternalModuleFactoryPlugin\",\n\t\t\tfactory => (data, callback) => {\n\t\t\t\tconst context = data.context;\n\t\t\t\tconst dependency = data.dependencies[0];\n\n\t\t\t\tconst handleExternal = (value, type, callback) => {\n\t\t\t\t\tif (typeof type === \"function\") {\n\t\t\t\t\t\tcallback = type;\n\t\t\t\t\t\ttype = undefined;\n\t\t\t\t\t}\n\t\t\t\t\tif (value === false) return factory(data, callback);\n\t\t\t\t\tif (value === true) value = dependency.request;\n\t\t\t\t\tif (type === undefined && /^[a-z0-9]+ /.test(value)) {\n\t\t\t\t\t\tconst idx = value.indexOf(\" \");\n\t\t\t\t\t\ttype = value.substr(0, idx);\n\t\t\t\t\t\tvalue = value.substr(idx + 1);\n\t\t\t\t\t}\n\t\t\t\t\tcallback(\n\t\t\t\t\t\tnull,\n\t\t\t\t\t\tnew ExternalModule(value, type || globalType, dependency.request)\n\t\t\t\t\t);\n\t\t\t\t\treturn true;\n\t\t\t\t};\n\n\t\t\t\tconst handleExternals = (externals, callback) => {\n\t\t\t\t\tif (typeof externals === \"string\") {\n\t\t\t\t\t\tif (externals === dependency.request) {\n\t\t\t\t\t\t\treturn handleExternal(dependency.request, callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (Array.isArray(externals)) {\n\t\t\t\t\t\tlet i = 0;\n\t\t\t\t\t\tconst next = () => {\n\t\t\t\t\t\t\tlet asyncFlag;\n\t\t\t\t\t\t\tconst handleExternalsAndCallback = (err, module) => {\n\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\tif (!module) {\n\t\t\t\t\t\t\t\t\tif (asyncFlag) {\n\t\t\t\t\t\t\t\t\t\tasyncFlag = false;\n\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\treturn next();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tcallback(null, module);\n\t\t\t\t\t\t\t};\n\n\t\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\t\tasyncFlag = true;\n\t\t\t\t\t\t\t\tif (i >= externals.length) return callback();\n\t\t\t\t\t\t\t\thandleExternals(externals[i++], handleExternalsAndCallback);\n\t\t\t\t\t\t\t} while (!asyncFlag);\n\t\t\t\t\t\t\tasyncFlag = false;\n\t\t\t\t\t\t};\n\n\t\t\t\t\t\tnext();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (externals instanceof RegExp) {\n\t\t\t\t\t\tif (externals.test(dependency.request)) {\n\t\t\t\t\t\t\treturn handleExternal(dependency.request, callback);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else if (typeof externals === \"function\") {\n\t\t\t\t\t\texternals.call(\n\t\t\t\t\t\t\tnull,\n\t\t\t\t\t\t\tcontext,\n\t\t\t\t\t\t\tdependency.request,\n\t\t\t\t\t\t\t(err, value, type) => {\n\t\t\t\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\t\t\t\thandleExternal(value, type, callback);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tcallback();\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else if (\n\t\t\t\t\t\ttypeof externals === \"object\" &&\n\t\t\t\t\t\tObject.prototype.hasOwnProperty.call(externals, dependency.request)\n\t\t\t\t\t) {\n\t\t\t\t\t\treturn handleExternal(externals[dependency.request], callback);\n\t\t\t\t\t}\n\t\t\t\t\tcallback();\n\t\t\t\t};\n\n\t\t\t\thandleExternals(this.externals, (err, module) => {\n\t\t\t\t\tif (err) return callback(err);\n\t\t\t\t\tif (!module) return handleExternal(false, callback);\n\t\t\t\t\treturn callback(null, module);\n\t\t\t\t});\n\t\t\t}\n\t\t);\n\t}\n}\nmodule.exports = ExternalModuleFactoryPlugin;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}