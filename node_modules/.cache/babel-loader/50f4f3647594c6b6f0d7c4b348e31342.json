{"ast":null,"code":"'use strict';\n\nvar sequences = {};\nvar DEFAULTS = {\n  timestamp: function () {\n    return Date.now();\n  },\n  datetime: function () {\n    return new Date().toISOString();\n  },\n  date: function () {\n    return new Date().toISOString().slice(0, 10);\n  },\n  time: function () {\n    return new Date().toISOString().slice(11);\n  },\n  random: function () {\n    return Math.random();\n  },\n  randomint: function (args) {\n    var limit = args && args.max || 2;\n    return function () {\n      return Math.floor(Math.random() * limit);\n    };\n  },\n  seq: function (args) {\n    var name = args && args.name || '';\n    sequences[name] = sequences[name] || 0;\n    return function () {\n      return sequences[name]++;\n    };\n  }\n};\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    compile: function (schema, parentSchema, it) {\n      var funcs = {};\n\n      for (var key in schema) {\n        var d = schema[key];\n        var func = getDefault(typeof d == 'string' ? d : d.func);\n        funcs[key] = func.length ? func(d.args) : func;\n      }\n\n      return it.opts.useDefaults && !it.compositeRule ? assignDefaults : noop;\n\n      function assignDefaults(data) {\n        for (var prop in schema) {\n          if (data[prop] === undefined || it.opts.useDefaults == 'empty' && (data[prop] === null || data[prop] === '')) data[prop] = funcs[prop]();\n        }\n\n        return true;\n      }\n\n      function noop() {\n        return true;\n      }\n    },\n    DEFAULTS: DEFAULTS,\n    metaSchema: {\n      type: 'object',\n      additionalProperties: {\n        type: ['string', 'object'],\n        additionalProperties: false,\n        required: ['func', 'args'],\n        properties: {\n          func: {\n            type: 'string'\n          },\n          args: {\n            type: 'object'\n          }\n        }\n      }\n    }\n  };\n  ajv.addKeyword('dynamicDefaults', defFunc.definition);\n  return ajv;\n\n  function getDefault(d) {\n    var def = DEFAULTS[d];\n    if (def) return def;\n    throw new Error('invalid \"dynamicDefaults\" keyword property value: ' + d);\n  }\n};","map":{"version":3,"names":["sequences","DEFAULTS","timestamp","Date","now","datetime","toISOString","date","slice","time","random","Math","randomint","args","limit","max","floor","seq","name","module","exports","defFunc","ajv","definition","compile","schema","parentSchema","it","funcs","key","d","func","getDefault","length","opts","useDefaults","compositeRule","assignDefaults","noop","data","prop","undefined","metaSchema","type","additionalProperties","required","properties","addKeyword","def","Error"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/ajv-keywords/keywords/dynamicDefaults.js"],"sourcesContent":["'use strict';\n\nvar sequences = {};\n\nvar DEFAULTS = {\n  timestamp: function() { return Date.now(); },\n  datetime: function() { return (new Date).toISOString(); },\n  date: function() { return (new Date).toISOString().slice(0, 10); },\n  time: function() { return (new Date).toISOString().slice(11); },\n  random: function() { return Math.random(); },\n  randomint: function (args) {\n    var limit = args && args.max || 2;\n    return function() { return Math.floor(Math.random() * limit); };\n  },\n  seq: function (args) {\n    var name = args && args.name || '';\n    sequences[name] = sequences[name] || 0;\n    return function() { return sequences[name]++; };\n  }\n};\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    compile: function (schema, parentSchema, it) {\n      var funcs = {};\n\n      for (var key in schema) {\n        var d = schema[key];\n        var func = getDefault(typeof d == 'string' ? d : d.func);\n        funcs[key] = func.length ? func(d.args) : func;\n      }\n\n      return it.opts.useDefaults && !it.compositeRule\n              ? assignDefaults\n              : noop;\n\n      function assignDefaults(data) {\n        for (var prop in schema){\n          if (data[prop] === undefined\n            || (it.opts.useDefaults == 'empty'\n            && (data[prop] === null || data[prop] === '')))\n            data[prop] = funcs[prop]();\n        }\n        return true;\n      }\n\n      function noop() { return true; }\n    },\n    DEFAULTS: DEFAULTS,\n    metaSchema: {\n      type: 'object',\n      additionalProperties: {\n        type: ['string', 'object'],\n        additionalProperties: false,\n        required: ['func', 'args'],\n        properties: {\n          func: { type: 'string' },\n          args: { type: 'object' }\n        }\n      }\n    }\n  };\n\n  ajv.addKeyword('dynamicDefaults', defFunc.definition);\n  return ajv;\n\n  function getDefault(d) {\n    var def = DEFAULTS[d];\n    if (def) return def;\n    throw new Error('invalid \"dynamicDefaults\" keyword property value: ' + d);\n  }\n};\n"],"mappings":"AAAA;;AAEA,IAAIA,SAAS,GAAG,EAAhB;AAEA,IAAIC,QAAQ,GAAG;EACbC,SAAS,EAAE,YAAW;IAAE,OAAOC,IAAI,CAACC,GAAL,EAAP;EAAoB,CAD/B;EAEbC,QAAQ,EAAE,YAAW;IAAE,OAAQ,IAAIF,IAAJ,EAAD,CAAWG,WAAX,EAAP;EAAkC,CAF5C;EAGbC,IAAI,EAAE,YAAW;IAAE,OAAQ,IAAIJ,IAAJ,EAAD,CAAWG,WAAX,GAAyBE,KAAzB,CAA+B,CAA/B,EAAkC,EAAlC,CAAP;EAA+C,CAHrD;EAIbC,IAAI,EAAE,YAAW;IAAE,OAAQ,IAAIN,IAAJ,EAAD,CAAWG,WAAX,GAAyBE,KAAzB,CAA+B,EAA/B,CAAP;EAA4C,CAJlD;EAKbE,MAAM,EAAE,YAAW;IAAE,OAAOC,IAAI,CAACD,MAAL,EAAP;EAAuB,CAL/B;EAMbE,SAAS,EAAE,UAAUC,IAAV,EAAgB;IACzB,IAAIC,KAAK,GAAGD,IAAI,IAAIA,IAAI,CAACE,GAAb,IAAoB,CAAhC;IACA,OAAO,YAAW;MAAE,OAAOJ,IAAI,CAACK,KAAL,CAAWL,IAAI,CAACD,MAAL,KAAgBI,KAA3B,CAAP;IAA2C,CAA/D;EACD,CATY;EAUbG,GAAG,EAAE,UAAUJ,IAAV,EAAgB;IACnB,IAAIK,IAAI,GAAGL,IAAI,IAAIA,IAAI,CAACK,IAAb,IAAqB,EAAhC;IACAlB,SAAS,CAACkB,IAAD,CAAT,GAAkBlB,SAAS,CAACkB,IAAD,CAAT,IAAmB,CAArC;IACA,OAAO,YAAW;MAAE,OAAOlB,SAAS,CAACkB,IAAD,CAAT,EAAP;IAA2B,CAA/C;EACD;AAdY,CAAf;;AAiBAC,MAAM,CAACC,OAAP,GAAiB,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;EACrCD,OAAO,CAACE,UAAR,GAAqB;IACnBC,OAAO,EAAE,UAAUC,MAAV,EAAkBC,YAAlB,EAAgCC,EAAhC,EAAoC;MAC3C,IAAIC,KAAK,GAAG,EAAZ;;MAEA,KAAK,IAAIC,GAAT,IAAgBJ,MAAhB,EAAwB;QACtB,IAAIK,CAAC,GAAGL,MAAM,CAACI,GAAD,CAAd;QACA,IAAIE,IAAI,GAAGC,UAAU,CAAC,OAAOF,CAAP,IAAY,QAAZ,GAAuBA,CAAvB,GAA2BA,CAAC,CAACC,IAA9B,CAArB;QACAH,KAAK,CAACC,GAAD,CAAL,GAAaE,IAAI,CAACE,MAAL,GAAcF,IAAI,CAACD,CAAC,CAACjB,IAAH,CAAlB,GAA6BkB,IAA1C;MACD;;MAED,OAAOJ,EAAE,CAACO,IAAH,CAAQC,WAAR,IAAuB,CAACR,EAAE,CAACS,aAA3B,GACGC,cADH,GAEGC,IAFV;;MAIA,SAASD,cAAT,CAAwBE,IAAxB,EAA8B;QAC5B,KAAK,IAAIC,IAAT,IAAiBf,MAAjB,EAAwB;UACtB,IAAIc,IAAI,CAACC,IAAD,CAAJ,KAAeC,SAAf,IACEd,EAAE,CAACO,IAAH,CAAQC,WAAR,IAAuB,OAAvB,KACAI,IAAI,CAACC,IAAD,CAAJ,KAAe,IAAf,IAAuBD,IAAI,CAACC,IAAD,CAAJ,KAAe,EADtC,CADN,EAGED,IAAI,CAACC,IAAD,CAAJ,GAAaZ,KAAK,CAACY,IAAD,CAAL,EAAb;QACH;;QACD,OAAO,IAAP;MACD;;MAED,SAASF,IAAT,GAAgB;QAAE,OAAO,IAAP;MAAc;IACjC,CAzBkB;IA0BnBrC,QAAQ,EAAEA,QA1BS;IA2BnByC,UAAU,EAAE;MACVC,IAAI,EAAE,QADI;MAEVC,oBAAoB,EAAE;QACpBD,IAAI,EAAE,CAAC,QAAD,EAAW,QAAX,CADc;QAEpBC,oBAAoB,EAAE,KAFF;QAGpBC,QAAQ,EAAE,CAAC,MAAD,EAAS,MAAT,CAHU;QAIpBC,UAAU,EAAE;UACVf,IAAI,EAAE;YAAEY,IAAI,EAAE;UAAR,CADI;UAEV9B,IAAI,EAAE;YAAE8B,IAAI,EAAE;UAAR;QAFI;MAJQ;IAFZ;EA3BO,CAArB;EAyCArB,GAAG,CAACyB,UAAJ,CAAe,iBAAf,EAAkC1B,OAAO,CAACE,UAA1C;EACA,OAAOD,GAAP;;EAEA,SAASU,UAAT,CAAoBF,CAApB,EAAuB;IACrB,IAAIkB,GAAG,GAAG/C,QAAQ,CAAC6B,CAAD,CAAlB;IACA,IAAIkB,GAAJ,EAAS,OAAOA,GAAP;IACT,MAAM,IAAIC,KAAJ,CAAU,uDAAuDnB,CAAjE,CAAN;EACD;AACF,CAlDD"},"metadata":{},"sourceType":"script"}