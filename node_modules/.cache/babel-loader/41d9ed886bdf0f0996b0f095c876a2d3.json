{"ast":null,"code":"/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Watchpack = require(\"watchpack\");\n\nconst objectToMap = require(\"../util/objectToMap\");\n\nclass NodeWatchFileSystem {\n  constructor(inputFileSystem) {\n    this.inputFileSystem = inputFileSystem;\n    this.watcherOptions = {\n      aggregateTimeout: 0\n    };\n    this.watcher = new Watchpack(this.watcherOptions);\n  }\n\n  watch(files, dirs, missing, startTime, options, callback, callbackUndelayed) {\n    if (!Array.isArray(files)) {\n      throw new Error(\"Invalid arguments: 'files'\");\n    }\n\n    if (!Array.isArray(dirs)) {\n      throw new Error(\"Invalid arguments: 'dirs'\");\n    }\n\n    if (!Array.isArray(missing)) {\n      throw new Error(\"Invalid arguments: 'missing'\");\n    }\n\n    if (typeof callback !== \"function\") {\n      throw new Error(\"Invalid arguments: 'callback'\");\n    }\n\n    if (typeof startTime !== \"number\" && startTime) {\n      throw new Error(\"Invalid arguments: 'startTime'\");\n    }\n\n    if (typeof options !== \"object\") {\n      throw new Error(\"Invalid arguments: 'options'\");\n    }\n\n    if (typeof callbackUndelayed !== \"function\" && callbackUndelayed) {\n      throw new Error(\"Invalid arguments: 'callbackUndelayed'\");\n    }\n\n    const oldWatcher = this.watcher;\n    this.watcher = new Watchpack(options);\n\n    if (callbackUndelayed) {\n      this.watcher.once(\"change\", callbackUndelayed);\n    }\n\n    const cachedFiles = files;\n    const cachedDirs = dirs;\n    this.watcher.once(\"aggregated\", (changes, removals) => {\n      changes = changes.concat(removals);\n\n      if (this.inputFileSystem && this.inputFileSystem.purge) {\n        this.inputFileSystem.purge(changes);\n      }\n\n      const times = objectToMap(this.watcher.getTimes());\n      files = new Set(files);\n      dirs = new Set(dirs);\n      missing = new Set(missing);\n      removals = new Set(removals.filter(file => files.has(file)));\n      callback(null, changes.filter(file => files.has(file)).sort(), changes.filter(file => dirs.has(file)).sort(), changes.filter(file => missing.has(file)).sort(), times, times, removals);\n    });\n    this.watcher.watch(cachedFiles.concat(missing), cachedDirs.concat(missing), startTime);\n\n    if (oldWatcher) {\n      oldWatcher.close();\n    }\n\n    return {\n      close: () => {\n        if (this.watcher) {\n          this.watcher.close();\n          this.watcher = null;\n        }\n      },\n      pause: () => {\n        if (this.watcher) {\n          this.watcher.pause();\n        }\n      },\n      getFileTimestamps: () => {\n        if (this.watcher) {\n          return objectToMap(this.watcher.getTimes());\n        } else {\n          return new Map();\n        }\n      },\n      getContextTimestamps: () => {\n        if (this.watcher) {\n          return objectToMap(this.watcher.getTimes());\n        } else {\n          return new Map();\n        }\n      }\n    };\n  }\n\n}\n\nmodule.exports = NodeWatchFileSystem;","map":{"version":3,"names":["Watchpack","require","objectToMap","NodeWatchFileSystem","constructor","inputFileSystem","watcherOptions","aggregateTimeout","watcher","watch","files","dirs","missing","startTime","options","callback","callbackUndelayed","Array","isArray","Error","oldWatcher","once","cachedFiles","cachedDirs","changes","removals","concat","purge","times","getTimes","Set","filter","file","has","sort","close","pause","getFileTimestamps","Map","getContextTimestamps","module","exports"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/webpack/lib/node/NodeWatchFileSystem.js"],"sourcesContent":["/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n\"use strict\";\n\nconst Watchpack = require(\"watchpack\");\nconst objectToMap = require(\"../util/objectToMap\");\n\nclass NodeWatchFileSystem {\n\tconstructor(inputFileSystem) {\n\t\tthis.inputFileSystem = inputFileSystem;\n\t\tthis.watcherOptions = {\n\t\t\taggregateTimeout: 0\n\t\t};\n\t\tthis.watcher = new Watchpack(this.watcherOptions);\n\t}\n\n\twatch(files, dirs, missing, startTime, options, callback, callbackUndelayed) {\n\t\tif (!Array.isArray(files)) {\n\t\t\tthrow new Error(\"Invalid arguments: 'files'\");\n\t\t}\n\t\tif (!Array.isArray(dirs)) {\n\t\t\tthrow new Error(\"Invalid arguments: 'dirs'\");\n\t\t}\n\t\tif (!Array.isArray(missing)) {\n\t\t\tthrow new Error(\"Invalid arguments: 'missing'\");\n\t\t}\n\t\tif (typeof callback !== \"function\") {\n\t\t\tthrow new Error(\"Invalid arguments: 'callback'\");\n\t\t}\n\t\tif (typeof startTime !== \"number\" && startTime) {\n\t\t\tthrow new Error(\"Invalid arguments: 'startTime'\");\n\t\t}\n\t\tif (typeof options !== \"object\") {\n\t\t\tthrow new Error(\"Invalid arguments: 'options'\");\n\t\t}\n\t\tif (typeof callbackUndelayed !== \"function\" && callbackUndelayed) {\n\t\t\tthrow new Error(\"Invalid arguments: 'callbackUndelayed'\");\n\t\t}\n\t\tconst oldWatcher = this.watcher;\n\t\tthis.watcher = new Watchpack(options);\n\n\t\tif (callbackUndelayed) {\n\t\t\tthis.watcher.once(\"change\", callbackUndelayed);\n\t\t}\n\t\tconst cachedFiles = files;\n\t\tconst cachedDirs = dirs;\n\t\tthis.watcher.once(\"aggregated\", (changes, removals) => {\n\t\t\tchanges = changes.concat(removals);\n\t\t\tif (this.inputFileSystem && this.inputFileSystem.purge) {\n\t\t\t\tthis.inputFileSystem.purge(changes);\n\t\t\t}\n\t\t\tconst times = objectToMap(this.watcher.getTimes());\n\t\t\tfiles = new Set(files);\n\t\t\tdirs = new Set(dirs);\n\t\t\tmissing = new Set(missing);\n\t\t\tremovals = new Set(removals.filter(file => files.has(file)));\n\t\t\tcallback(\n\t\t\t\tnull,\n\t\t\t\tchanges.filter(file => files.has(file)).sort(),\n\t\t\t\tchanges.filter(file => dirs.has(file)).sort(),\n\t\t\t\tchanges.filter(file => missing.has(file)).sort(),\n\t\t\t\ttimes,\n\t\t\t\ttimes,\n\t\t\t\tremovals\n\t\t\t);\n\t\t});\n\n\t\tthis.watcher.watch(\n\t\t\tcachedFiles.concat(missing),\n\t\t\tcachedDirs.concat(missing),\n\t\t\tstartTime\n\t\t);\n\n\t\tif (oldWatcher) {\n\t\t\toldWatcher.close();\n\t\t}\n\t\treturn {\n\t\t\tclose: () => {\n\t\t\t\tif (this.watcher) {\n\t\t\t\t\tthis.watcher.close();\n\t\t\t\t\tthis.watcher = null;\n\t\t\t\t}\n\t\t\t},\n\t\t\tpause: () => {\n\t\t\t\tif (this.watcher) {\n\t\t\t\t\tthis.watcher.pause();\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetFileTimestamps: () => {\n\t\t\t\tif (this.watcher) {\n\t\t\t\t\treturn objectToMap(this.watcher.getTimes());\n\t\t\t\t} else {\n\t\t\t\t\treturn new Map();\n\t\t\t\t}\n\t\t\t},\n\t\t\tgetContextTimestamps: () => {\n\t\t\t\tif (this.watcher) {\n\t\t\t\t\treturn objectToMap(this.watcher.getTimes());\n\t\t\t\t} else {\n\t\t\t\t\treturn new Map();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\t}\n}\n\nmodule.exports = NodeWatchFileSystem;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}