{"ast":null,"code":"var eos = require('end-of-stream');\n\nvar shift = require('stream-shift');\n\nmodule.exports = each;\n\nfunction each(stream, fn, cb) {\n  var want = true;\n  var error = null;\n  var ended = false;\n  var running = false;\n  var calling = false;\n  stream.on('readable', onreadable);\n  onreadable();\n  if (cb) eos(stream, {\n    readable: true,\n    writable: false\n  }, done);\n  return stream;\n\n  function done(err) {\n    if (!error) error = err;\n    ended = true;\n    if (!running) cb(error);\n  }\n\n  function onreadable() {\n    if (want) read();\n  }\n\n  function afterRead(err) {\n    running = false;\n\n    if (err) {\n      error = err;\n      if (ended) return cb(error);\n      stream.destroy(err);\n      return;\n    }\n\n    if (ended) return cb(error);\n    if (!calling) read();\n  }\n\n  function read() {\n    while (!running && !ended) {\n      want = false;\n      var data = shift(stream);\n      if (ended) return;\n\n      if (data === null) {\n        want = true;\n        return;\n      }\n\n      running = true;\n      calling = true;\n      fn(data, afterRead);\n      calling = false;\n    }\n  }\n}","map":{"version":3,"names":["eos","require","shift","module","exports","each","stream","fn","cb","want","error","ended","running","calling","on","onreadable","readable","writable","done","err","read","afterRead","destroy","data"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/stream-each/index.js"],"sourcesContent":["var eos = require('end-of-stream')\nvar shift = require('stream-shift')\n\nmodule.exports = each\n\nfunction each (stream, fn, cb) {\n  var want = true\n  var error = null\n  var ended = false\n  var running = false\n  var calling = false\n\n  stream.on('readable', onreadable)\n  onreadable()\n\n  if (cb) eos(stream, {readable: true, writable: false}, done)\n  return stream\n\n  function done (err) {\n    if (!error) error = err\n    ended = true\n    if (!running) cb(error)\n  }\n\n  function onreadable () {\n    if (want) read()\n  }\n\n  function afterRead (err) {\n    running = false\n\n    if (err) {\n      error = err\n      if (ended) return cb(error)\n      stream.destroy(err)\n      return\n    }\n    if (ended) return cb(error)\n    if (!calling) read()\n  }\n\n  function read () {\n    while (!running && !ended) {\n      want = false\n\n      var data = shift(stream)\n      if (ended) return\n      if (data === null) {\n        want = true\n        return\n      }\n\n      running = true\n      calling = true\n      fn(data, afterRead)\n      calling = false\n    }\n  }\n}\n"],"mappings":"AAAA,IAAIA,GAAG,GAAGC,OAAO,CAAC,eAAD,CAAjB;;AACA,IAAIC,KAAK,GAAGD,OAAO,CAAC,cAAD,CAAnB;;AAEAE,MAAM,CAACC,OAAP,GAAiBC,IAAjB;;AAEA,SAASA,IAAT,CAAeC,MAAf,EAAuBC,EAAvB,EAA2BC,EAA3B,EAA+B;EAC7B,IAAIC,IAAI,GAAG,IAAX;EACA,IAAIC,KAAK,GAAG,IAAZ;EACA,IAAIC,KAAK,GAAG,KAAZ;EACA,IAAIC,OAAO,GAAG,KAAd;EACA,IAAIC,OAAO,GAAG,KAAd;EAEAP,MAAM,CAACQ,EAAP,CAAU,UAAV,EAAsBC,UAAtB;EACAA,UAAU;EAEV,IAAIP,EAAJ,EAAQR,GAAG,CAACM,MAAD,EAAS;IAACU,QAAQ,EAAE,IAAX;IAAiBC,QAAQ,EAAE;EAA3B,CAAT,EAA4CC,IAA5C,CAAH;EACR,OAAOZ,MAAP;;EAEA,SAASY,IAAT,CAAeC,GAAf,EAAoB;IAClB,IAAI,CAACT,KAAL,EAAYA,KAAK,GAAGS,GAAR;IACZR,KAAK,GAAG,IAAR;IACA,IAAI,CAACC,OAAL,EAAcJ,EAAE,CAACE,KAAD,CAAF;EACf;;EAED,SAASK,UAAT,GAAuB;IACrB,IAAIN,IAAJ,EAAUW,IAAI;EACf;;EAED,SAASC,SAAT,CAAoBF,GAApB,EAAyB;IACvBP,OAAO,GAAG,KAAV;;IAEA,IAAIO,GAAJ,EAAS;MACPT,KAAK,GAAGS,GAAR;MACA,IAAIR,KAAJ,EAAW,OAAOH,EAAE,CAACE,KAAD,CAAT;MACXJ,MAAM,CAACgB,OAAP,CAAeH,GAAf;MACA;IACD;;IACD,IAAIR,KAAJ,EAAW,OAAOH,EAAE,CAACE,KAAD,CAAT;IACX,IAAI,CAACG,OAAL,EAAcO,IAAI;EACnB;;EAED,SAASA,IAAT,GAAiB;IACf,OAAO,CAACR,OAAD,IAAY,CAACD,KAApB,EAA2B;MACzBF,IAAI,GAAG,KAAP;MAEA,IAAIc,IAAI,GAAGrB,KAAK,CAACI,MAAD,CAAhB;MACA,IAAIK,KAAJ,EAAW;;MACX,IAAIY,IAAI,KAAK,IAAb,EAAmB;QACjBd,IAAI,GAAG,IAAP;QACA;MACD;;MAEDG,OAAO,GAAG,IAAV;MACAC,OAAO,GAAG,IAAV;MACAN,EAAE,CAACgB,IAAD,EAAOF,SAAP,CAAF;MACAR,OAAO,GAAG,KAAV;IACD;EACF;AACF"},"metadata":{},"sourceType":"script"}