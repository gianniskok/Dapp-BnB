{"ast":null,"code":"'use strict';\n\nlet $module;\n/*\n  let contextProto = this.context;\n  while (contextProto = Object.getPrototypeOf(contextProto)) {\n    completionGroups.push(Object.getOwnPropertyNames(contextProto));\n  }\n*/\n\nfunction handle(data) {\n  let idx = data.idx,\n      child = data.child,\n      method = data.method,\n      args = data.args,\n      callback = function () {\n    let _args = Array.prototype.slice.call(arguments);\n\n    if (_args[0] instanceof Error) {\n      let e = _args[0];\n      _args[0] = {\n        '$error': '$error',\n        'type': e.constructor.name,\n        'message': e.message,\n        'stack': e.stack\n      };\n      Object.keys(e).forEach(function (key) {\n        _args[0][key] = e[key];\n      });\n    }\n\n    process.send({\n      owner: 'farm',\n      idx: idx,\n      child: child,\n      args: _args\n    });\n  },\n      exec;\n\n  if (method == null && typeof $module == 'function') exec = $module;else if (typeof $module[method] == 'function') exec = $module[method];\n  if (!exec) return console.error('NO SUCH METHOD:', method);\n  exec.apply(null, args.concat([callback]));\n}\n\nprocess.on('message', function (data) {\n  if (data.owner !== 'farm') {\n    return;\n  }\n\n  if (!$module) return $module = require(data.module);\n  if (data.event == 'die') return process.exit(0);\n  handle(data);\n});","map":{"version":3,"names":["$module","handle","data","idx","child","method","args","callback","_args","Array","prototype","slice","call","arguments","Error","e","constructor","name","message","stack","Object","keys","forEach","key","process","send","owner","exec","console","error","apply","concat","on","require","module","event","exit"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/worker-farm/lib/child/index.js"],"sourcesContent":["'use strict'\n\nlet $module\n\n/*\n  let contextProto = this.context;\n  while (contextProto = Object.getPrototypeOf(contextProto)) {\n    completionGroups.push(Object.getOwnPropertyNames(contextProto));\n  }\n*/\n\n\nfunction handle (data) {\n  let idx      = data.idx\n    , child    = data.child\n    , method   = data.method\n    , args     = data.args\n    , callback = function () {\n        let _args = Array.prototype.slice.call(arguments)\n        if (_args[0] instanceof Error) {\n          let e = _args[0]\n          _args[0] = {\n              '$error'  : '$error'\n            , 'type'    : e.constructor.name\n            , 'message' : e.message\n            , 'stack'   : e.stack\n          }\n          Object.keys(e).forEach(function(key) {\n            _args[0][key] = e[key]\n          })\n        }\n        process.send({ owner: 'farm', idx: idx, child: child, args: _args })\n      }\n    , exec\n\n  if (method == null && typeof $module == 'function')\n    exec = $module\n  else if (typeof $module[method] == 'function')\n    exec = $module[method]\n\n  if (!exec)\n    return console.error('NO SUCH METHOD:', method)\n\n  exec.apply(null, args.concat([ callback ]))\n}\n\n\nprocess.on('message', function (data) {\n  if (data.owner !== 'farm') {\n    return;\n  }\n\n  if (!$module) return $module = require(data.module)\n  if (data.event == 'die') return process.exit(0)\n  handle(data)\n})\n"],"mappings":"AAAA;;AAEA,IAAIA,OAAJ;AAEA;AACA;AACA;AACA;AACA;AACA;;AAGA,SAASC,MAAT,CAAiBC,IAAjB,EAAuB;EACrB,IAAIC,GAAG,GAAQD,IAAI,CAACC,GAApB;EAAA,IACIC,KAAK,GAAMF,IAAI,CAACE,KADpB;EAAA,IAEIC,MAAM,GAAKH,IAAI,CAACG,MAFpB;EAAA,IAGIC,IAAI,GAAOJ,IAAI,CAACI,IAHpB;EAAA,IAIIC,QAAQ,GAAG,YAAY;IACrB,IAAIC,KAAK,GAAGC,KAAK,CAACC,SAAN,CAAgBC,KAAhB,CAAsBC,IAAtB,CAA2BC,SAA3B,CAAZ;;IACA,IAAIL,KAAK,CAAC,CAAD,CAAL,YAAoBM,KAAxB,EAA+B;MAC7B,IAAIC,CAAC,GAAGP,KAAK,CAAC,CAAD,CAAb;MACAA,KAAK,CAAC,CAAD,CAAL,GAAW;QACP,UAAY,QADL;QAEP,QAAYO,CAAC,CAACC,WAAF,CAAcC,IAFnB;QAGP,WAAYF,CAAC,CAACG,OAHP;QAIP,SAAYH,CAAC,CAACI;MAJP,CAAX;MAMAC,MAAM,CAACC,IAAP,CAAYN,CAAZ,EAAeO,OAAf,CAAuB,UAASC,GAAT,EAAc;QACnCf,KAAK,CAAC,CAAD,CAAL,CAASe,GAAT,IAAgBR,CAAC,CAACQ,GAAD,CAAjB;MACD,CAFD;IAGD;;IACDC,OAAO,CAACC,IAAR,CAAa;MAAEC,KAAK,EAAE,MAAT;MAAiBvB,GAAG,EAAEA,GAAtB;MAA2BC,KAAK,EAAEA,KAAlC;MAAyCE,IAAI,EAAEE;IAA/C,CAAb;EACD,CAnBL;EAAA,IAoBImB,IApBJ;;EAsBA,IAAItB,MAAM,IAAI,IAAV,IAAkB,OAAOL,OAAP,IAAkB,UAAxC,EACE2B,IAAI,GAAG3B,OAAP,CADF,KAEK,IAAI,OAAOA,OAAO,CAACK,MAAD,CAAd,IAA0B,UAA9B,EACHsB,IAAI,GAAG3B,OAAO,CAACK,MAAD,CAAd;EAEF,IAAI,CAACsB,IAAL,EACE,OAAOC,OAAO,CAACC,KAAR,CAAc,iBAAd,EAAiCxB,MAAjC,CAAP;EAEFsB,IAAI,CAACG,KAAL,CAAW,IAAX,EAAiBxB,IAAI,CAACyB,MAAL,CAAY,CAAExB,QAAF,CAAZ,CAAjB;AACD;;AAGDiB,OAAO,CAACQ,EAAR,CAAW,SAAX,EAAsB,UAAU9B,IAAV,EAAgB;EACpC,IAAIA,IAAI,CAACwB,KAAL,KAAe,MAAnB,EAA2B;IACzB;EACD;;EAED,IAAI,CAAC1B,OAAL,EAAc,OAAOA,OAAO,GAAGiC,OAAO,CAAC/B,IAAI,CAACgC,MAAN,CAAxB;EACd,IAAIhC,IAAI,CAACiC,KAAL,IAAc,KAAlB,EAAyB,OAAOX,OAAO,CAACY,IAAR,CAAa,CAAb,CAAP;EACzBnC,MAAM,CAACC,IAAD,CAAN;AACD,CARD"},"metadata":{},"sourceType":"script"}