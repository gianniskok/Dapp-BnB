{"ast":null,"code":"import { setLocal } from \"./local\";\nexport const mobileLinkChoiceKey = \"WALLETCONNECT_DEEPLINK_CHOICE\";\nexport function formatIOSMobile(uri, entry) {\n  const encodedUri = encodeURIComponent(uri);\n  return entry.universalLink ? `${entry.universalLink}/wc?uri=${encodedUri}` : entry.deepLink ? `${entry.deepLink}${entry.deepLink.endsWith(\":\") ? \"//\" : \"/\"}wc?uri=${encodedUri}` : \"\";\n}\nexport function saveMobileLinkInfo(data) {\n  const focusUri = data.href.split(\"?\")[0];\n  setLocal(mobileLinkChoiceKey, Object.assign(Object.assign({}, data), {\n    href: focusUri\n  }));\n}\nexport function getMobileRegistryEntry(registry, name) {\n  return registry.filter(entry => entry.name.toLowerCase().includes(name.toLowerCase()))[0];\n}\nexport function getMobileLinkRegistry(registry, whitelist) {\n  let links = registry;\n\n  if (whitelist) {\n    links = whitelist.map(name => getMobileRegistryEntry(registry, name)).filter(Boolean);\n  }\n\n  return links;\n}","map":{"version":3,"mappings":"AAEA,SAASA,QAAT,QAAyB,SAAzB;AAEA,OAAO,MAAMC,mBAAmB,GAAG,+BAA5B;AAEP,OAAM,SAAUC,eAAV,CAA0BC,GAA1B,EAAuCC,KAAvC,EAAkE;EACtE,MAAMC,UAAU,GAAWC,kBAAkB,CAACH,GAAD,CAA7C;EACA,OAAOC,KAAK,CAACG,aAAN,GACH,GAAGH,KAAK,CAACG,aAAa,WAAWF,UAAU,EADxC,GAEHD,KAAK,CAACI,QAAN,GACA,GAAGJ,KAAK,CAACI,QAAQ,GAAGJ,KAAK,CAACI,QAAN,CAAeC,QAAf,CAAwB,GAAxB,IAA+B,IAA/B,GAAsC,GAAG,UAAUJ,UAAU,EADjF,GAEA,EAJJ;AAKD;AAED,OAAM,SAAUK,kBAAV,CAA6BC,IAA7B,EAAkD;EACtD,MAAMC,QAAQ,GAAGD,IAAI,CAACE,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,CAAjB;EACAd,QAAQ,CAACC,mBAAD,EAAoBc,gCAAOJ,IAAP,GAAW;IAAEE,IAAI,EAAED;EAAR,CAAX,CAApB,CAAR;AACD;AAED,OAAM,SAAUI,sBAAV,CACJC,QADI,EAEJC,IAFI,EAEQ;EAEZ,OAAOD,QAAQ,CAACE,MAAT,CAAiBf,KAAD,IACrBA,KAAK,CAACc,IAAN,CAAWE,WAAX,GAAyBC,QAAzB,CAAkCH,IAAI,CAACE,WAAL,EAAlC,CADK,EAEL,CAFK,CAAP;AAGD;AAED,OAAM,SAAUE,qBAAV,CAAgCL,QAAhC,EAA2DM,SAA3D,EAA+E;EACnF,IAAIC,KAAK,GAAGP,QAAZ;;EACA,IAAIM,SAAJ,EAAe;IACbC,KAAK,GAAGD,SAAS,CAACE,GAAV,CAAeP,IAAD,IAAkBF,sBAAsB,CAACC,QAAD,EAAWC,IAAX,CAAtD,EAAwEC,MAAxE,CAA+EO,OAA/E,CAAR;EACD;;EACD,OAAOF,KAAP;AACD","names":["setLocal","mobileLinkChoiceKey","formatIOSMobile","uri","entry","encodedUri","encodeURIComponent","universalLink","deepLink","endsWith","saveMobileLinkInfo","data","focusUri","href","split","Object","getMobileRegistryEntry","registry","name","filter","toLowerCase","includes","getMobileLinkRegistry","whitelist","links","map","Boolean"],"sourceRoot":"","sources":["../../src/mobile.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module"}