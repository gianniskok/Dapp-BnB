{"ast":null,"code":"var Transform = require('readable-stream').Transform;\n\nvar inherits = require('inherits');\n\nvar cyclist = require('cyclist');\n\nvar util = require('util');\n\nvar ParallelTransform = function (maxParallel, opts, ontransform) {\n  if (!(this instanceof ParallelTransform)) return new ParallelTransform(maxParallel, opts, ontransform);\n\n  if (typeof maxParallel === 'function') {\n    ontransform = maxParallel;\n    opts = null;\n    maxParallel = 1;\n  }\n\n  if (typeof opts === 'function') {\n    ontransform = opts;\n    opts = null;\n  }\n\n  if (!opts) opts = {};\n  if (!opts.highWaterMark) opts.highWaterMark = Math.max(maxParallel, 16);\n  if (opts.objectMode !== false) opts.objectMode = true;\n  Transform.call(this, opts);\n  this._maxParallel = maxParallel;\n  this._ontransform = ontransform;\n  this._destroyed = false;\n  this._flushed = false;\n  this._ordered = opts.ordered !== false;\n  this._buffer = this._ordered ? cyclist(maxParallel) : [];\n  this._top = 0;\n  this._bottom = 0;\n  this._ondrain = null;\n};\n\ninherits(ParallelTransform, Transform);\n\nParallelTransform.prototype.destroy = function () {\n  if (this._destroyed) return;\n  this._destroyed = true;\n  this.emit('close');\n};\n\nParallelTransform.prototype._transform = function (chunk, enc, callback) {\n  var self = this;\n  var pos = this._top++;\n\n  this._ontransform(chunk, function (err, data) {\n    if (self._destroyed) return;\n\n    if (err) {\n      self.emit('error', err);\n      self.push(null);\n      self.destroy();\n      return;\n    }\n\n    if (self._ordered) {\n      self._buffer.put(pos, data === undefined || data === null ? null : data);\n    } else {\n      self._buffer.push(data);\n    }\n\n    self._drain();\n  });\n\n  if (this._top - this._bottom < this._maxParallel) return callback();\n  this._ondrain = callback;\n};\n\nParallelTransform.prototype._flush = function (callback) {\n  this._flushed = true;\n  this._ondrain = callback;\n\n  this._drain();\n};\n\nParallelTransform.prototype._drain = function () {\n  if (this._ordered) {\n    while (this._buffer.get(this._bottom) !== undefined) {\n      var data = this._buffer.del(this._bottom++);\n\n      if (data === null) continue;\n      this.push(data);\n    }\n  } else {\n    while (this._buffer.length > 0) {\n      var data = this._buffer.pop();\n\n      this._bottom++;\n      if (data === null) continue;\n      this.push(data);\n    }\n  }\n\n  if (!this._drained() || !this._ondrain) return;\n  var ondrain = this._ondrain;\n  this._ondrain = null;\n  ondrain();\n};\n\nParallelTransform.prototype._drained = function () {\n  var diff = this._top - this._bottom;\n  return this._flushed ? !diff : diff < this._maxParallel;\n};\n\nmodule.exports = ParallelTransform;","map":{"version":3,"names":["Transform","require","inherits","cyclist","util","ParallelTransform","maxParallel","opts","ontransform","highWaterMark","Math","max","objectMode","call","_maxParallel","_ontransform","_destroyed","_flushed","_ordered","ordered","_buffer","_top","_bottom","_ondrain","prototype","destroy","emit","_transform","chunk","enc","callback","self","pos","err","data","push","put","undefined","_drain","_flush","get","del","length","pop","_drained","ondrain","diff","module","exports"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/parallel-transform/index.js"],"sourcesContent":["var Transform = require('readable-stream').Transform;\nvar inherits = require('inherits');\nvar cyclist = require('cyclist');\nvar util = require('util');\n\nvar ParallelTransform = function(maxParallel, opts, ontransform) {\n\tif (!(this instanceof ParallelTransform)) return new ParallelTransform(maxParallel, opts, ontransform);\n\n\tif (typeof maxParallel === 'function') {\n\t\tontransform = maxParallel;\n\t\topts = null;\n\t\tmaxParallel = 1;\n\t}\n\tif (typeof opts === 'function') {\n\t\tontransform = opts;\n\t\topts = null;\n\t}\n\n\tif (!opts) opts = {};\n\tif (!opts.highWaterMark) opts.highWaterMark = Math.max(maxParallel, 16);\n\tif (opts.objectMode !== false) opts.objectMode = true;\n\n\tTransform.call(this, opts);\n\n\tthis._maxParallel = maxParallel;\n\tthis._ontransform = ontransform;\n\tthis._destroyed = false;\n\tthis._flushed = false;\n\tthis._ordered = opts.ordered !== false;\n\tthis._buffer = this._ordered ? cyclist(maxParallel) : [];\n\tthis._top = 0;\n\tthis._bottom = 0;\n\tthis._ondrain = null;\n};\n\ninherits(ParallelTransform, Transform);\n\nParallelTransform.prototype.destroy = function() {\n\tif (this._destroyed) return;\n\tthis._destroyed = true;\n\tthis.emit('close');\n};\n\nParallelTransform.prototype._transform = function(chunk, enc, callback) {\n\tvar self = this;\n\tvar pos = this._top++;\n\n\tthis._ontransform(chunk, function(err, data) {\n\t\tif (self._destroyed) return;\n\t\tif (err) {\n\t\t\tself.emit('error', err);\n\t\t\tself.push(null);\n\t\t\tself.destroy();\n\t\t\treturn;\n\t\t}\n\t\tif (self._ordered) {\n\t\t\tself._buffer.put(pos, (data === undefined || data === null) ? null : data);\n\t\t}\n\t\telse {\n\t\t\tself._buffer.push(data);\n\t\t}\n\t\tself._drain();\n\t});\n\n\tif (this._top - this._bottom < this._maxParallel) return callback();\n\tthis._ondrain = callback;\n};\n\nParallelTransform.prototype._flush = function(callback) {\n\tthis._flushed = true;\n\tthis._ondrain = callback;\n\tthis._drain();\n};\n\nParallelTransform.prototype._drain = function() {\n\tif (this._ordered) {\n\t\twhile (this._buffer.get(this._bottom) !== undefined) {\n\t\t\tvar data = this._buffer.del(this._bottom++);\n\t\t\tif (data === null) continue;\n\t\t\tthis.push(data);\n\t\t}\n\t}\n\telse {\n\t\twhile (this._buffer.length > 0) {\n\t\t\tvar data =  this._buffer.pop();\n\t\t\tthis._bottom++;\n\t\t\tif (data === null) continue;\n\t\t\tthis.push(data);\n\t\t}\n\t}\n\n\n\tif (!this._drained() || !this._ondrain) return;\n\n\tvar ondrain = this._ondrain;\n\tthis._ondrain = null;\n\tondrain();\n};\n\nParallelTransform.prototype._drained = function() {\n\tvar diff = this._top - this._bottom;\n\treturn this._flushed ? !diff : diff < this._maxParallel;\n};\n\nmodule.exports = ParallelTransform;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}