{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar cid = require('multiformats/cid');\n\nvar pbDecode = require('./pb-decode.js');\n\nvar pbEncode = require('./pb-encode.js');\n\nvar util = require('./util.js');\n\nconst name = 'dag-pb';\nconst code = 112;\n\nfunction encode(node) {\n  util.validate(node);\n  const pbn = {};\n\n  if (node.Links) {\n    pbn.Links = node.Links.map(l => {\n      const link = {};\n\n      if (l.Hash) {\n        link.Hash = l.Hash.bytes;\n      }\n\n      if (l.Name !== undefined) {\n        link.Name = l.Name;\n      }\n\n      if (l.Tsize !== undefined) {\n        link.Tsize = l.Tsize;\n      }\n\n      return link;\n    });\n  }\n\n  if (node.Data) {\n    pbn.Data = node.Data;\n  }\n\n  return pbEncode.encodeNode(pbn);\n}\n\nfunction decode(bytes) {\n  const pbn = pbDecode.decodeNode(bytes);\n  const node = {};\n\n  if (pbn.Data) {\n    node.Data = pbn.Data;\n  }\n\n  if (pbn.Links) {\n    node.Links = pbn.Links.map(l => {\n      const link = {};\n\n      try {\n        link.Hash = cid.CID.decode(l.Hash);\n      } catch (e) {}\n\n      if (!link.Hash) {\n        throw new Error('Invalid Hash field found in link, expected CID');\n      }\n\n      if (l.Name !== undefined) {\n        link.Name = l.Name;\n      }\n\n      if (l.Tsize !== undefined) {\n        link.Tsize = l.Tsize;\n      }\n\n      return link;\n    });\n  }\n\n  return node;\n}\n\nexports.createLink = util.createLink;\nexports.createNode = util.createNode;\nexports.prepare = util.prepare;\nexports.validate = util.validate;\nexports.code = code;\nexports.decode = decode;\nexports.encode = encode;\nexports.name = name;","map":{"version":3,"names":["Object","defineProperty","exports","value","cid","require","pbDecode","pbEncode","util","name","code","encode","node","validate","pbn","Links","map","l","link","Hash","bytes","Name","undefined","Tsize","Data","encodeNode","decode","decodeNode","CID","e","Error","createLink","createNode","prepare"],"sources":["/Users/iaonniskokkoros/Documents/OG BrokeBoiz/node_modules/@ipld/dag-pb/cjs/src/index.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nvar cid = require('multiformats/cid');\nvar pbDecode = require('./pb-decode.js');\nvar pbEncode = require('./pb-encode.js');\nvar util = require('./util.js');\n\nconst name = 'dag-pb';\nconst code = 112;\nfunction encode(node) {\n  util.validate(node);\n  const pbn = {};\n  if (node.Links) {\n    pbn.Links = node.Links.map(l => {\n      const link = {};\n      if (l.Hash) {\n        link.Hash = l.Hash.bytes;\n      }\n      if (l.Name !== undefined) {\n        link.Name = l.Name;\n      }\n      if (l.Tsize !== undefined) {\n        link.Tsize = l.Tsize;\n      }\n      return link;\n    });\n  }\n  if (node.Data) {\n    pbn.Data = node.Data;\n  }\n  return pbEncode.encodeNode(pbn);\n}\nfunction decode(bytes) {\n  const pbn = pbDecode.decodeNode(bytes);\n  const node = {};\n  if (pbn.Data) {\n    node.Data = pbn.Data;\n  }\n  if (pbn.Links) {\n    node.Links = pbn.Links.map(l => {\n      const link = {};\n      try {\n        link.Hash = cid.CID.decode(l.Hash);\n      } catch (e) {\n      }\n      if (!link.Hash) {\n        throw new Error('Invalid Hash field found in link, expected CID');\n      }\n      if (l.Name !== undefined) {\n        link.Name = l.Name;\n      }\n      if (l.Tsize !== undefined) {\n        link.Tsize = l.Tsize;\n      }\n      return link;\n    });\n  }\n  return node;\n}\n\nexports.createLink = util.createLink;\nexports.createNode = util.createNode;\nexports.prepare = util.prepare;\nexports.validate = util.validate;\nexports.code = code;\nexports.decode = decode;\nexports.encode = encode;\nexports.name = name;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}